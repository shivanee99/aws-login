import{a as L}from"./chunk-MPOKI7GE.js";import{a as me,b as se}from"./chunk-EMZZWQZT.js";import"./chunk-5ENT4XQA.js";import{a as P}from"./chunk-3VYHKAG4.js";import"./chunk-QJUVNZXF.js";import{a as re}from"./chunk-D42AVTVB.js";import"./chunk-TX4RGXHY.js";import{a as le}from"./chunk-L32G27ZM.js";import{a as G,c as H,d as M}from"./chunk-SOWNCCG4.js";import{a as oe}from"./chunk-KSLAI2AB.js";import{m as I}from"./chunk-DYQSPWX7.js";import{$a as i,$b as Z,Aa as o,Ac as X,Ba as _,Bb as w,Bc as Y,Cc as $,Db as x,Fc as ee,Gc as te,Hc as ie,Ic as ne,Ka as B,Mc as ae,Oa as c,Qa as S,Wa as u,Ya as U,Za as W,_a as t,ab as d,ba as D,eb as q,fc as z,gb as N,hb as f,ja as h,ka as b,kb as j,lb as R,rb as y,sb as a,tb as v,ub as O,vc as J,xa as A,xb as E,yb as F,yc as K,zb as T,zc as Q}from"./chunk-FCI7FGJ6.js";import"./chunk-WWX6BADO.js";var _e=(e,n)=>n.id,de=e=>({pageId:e});function Ce(e,n){e&1&&d(0,"i",15)}function Se(e,n){e&1&&d(0,"i",16)}function ve(e,n){if(e&1&&(t(0,"span"),c(1,Ce,1,0,"i",15)(2,Se,1,0,"i",16),i()),e&2){let r=f();o(),u(r.listDefaultParams.sortingType=="asc"?1:2)}}function he(e,n){e&1&&d(0,"i",15)}function be(e,n){e&1&&d(0,"i",16)}function xe(e,n){if(e&1&&(t(0,"span"),c(1,he,1,0,"i",15)(2,be,1,0,"i",16),i()),e&2){let r=f();o(),u(r.listDefaultParams.sortingType=="asc"?1:2)}}function ye(e,n){e&1&&d(0,"i",15)}function Ee(e,n){e&1&&d(0,"i",16)}function Fe(e,n){if(e&1&&(t(0,"span"),c(1,ye,1,0,"i",15)(2,Ee,1,0,"i",16),i()),e&2){let r=f();o(),u(r.listDefaultParams.sortingType=="asc"?1:2)}}function Te(e,n){e&1&&d(0,"i",15)}function De(e,n){e&1&&d(0,"i",16)}function we(e,n){if(e&1&&(t(0,"span"),c(1,Te,1,0,"i",15)(2,De,1,0,"i",16),i()),e&2){let r=f();o(),u(r.listDefaultParams.sortingType=="asc"?1:2)}}function Me(e,n){e&1&&d(0,"i",15)}function Ie(e,n){e&1&&d(0,"i",16)}function Pe(e,n){if(e&1&&(t(0,"span"),c(1,Me,1,0,"i",15)(2,Ie,1,0,"i",16),i()),e&2){let r=f();o(),u(r.listDefaultParams.sortingType=="asc"?1:2)}}function Le(e,n){e&1&&d(0,"i",15)}function Ne(e,n){e&1&&d(0,"i",16)}function ke(e,n){if(e&1&&(t(0,"span"),c(1,Le,1,0,"i",15)(2,Ne,1,0,"i",16),i()),e&2){let r=f();o(),u(r.listDefaultParams.sortingType=="asc"?1:2)}}function Ve(e,n){if(e&1&&(t(0,"tr"),d(1,"td"),t(2,"td"),a(3),i(),t(4,"td"),a(5),i(),t(6,"td"),a(7),i(),t(8,"td"),a(9),i(),t(10,"td"),a(11),i(),t(12,"td"),a(13),i(),t(14,"td"),a(15),i(),t(16,"td")(17,"a",17),d(18,"i",18),i(),t(19,"a",19),d(20,"i",20),a(21," Create Story"),i(),t(22,"a",21),d(23,"i",20),a(24," Meta Tag"),i()()()),e&2){let r=f().$implicit;o(3),v(r.name),o(2),v(r.slug),o(2),v(r.createdAt),o(2),v(r.createdBy),o(2),v(r.updatedAt),o(2),v(r.updatedBy),o(2),v(r.statusName),o(2),R("routerLink","./edit/",r.id,""),o(2),S("queryParams",x(11,de,r.id)),o(3),S("queryParams",x(13,de,r.id))}}function Ae(e,n){if(e&1&&c(0,Ve,25,15,"tr"),e&2){let r=n.$implicit;u(r.pageTypeId==3?0:-1)}}function Be(e,n){if(e&1&&(t(0,"tr",14)(1,"td",22),a(2),i()()),e&2){let r=f();o(2),O("",r.listLoadingMessage," ")}}var pe=(()=>{let n=class n{constructor(s,m,l){this.storiesbuilderService=s,this.commonService=m,this.timeZoneService=l,this.listDefaultParams=new le,this.pageListArray=[],this.loaderType=B(""),this.showParentPageLoader=!0,this.listLoadingMessage="Loading Data..."}ngOnInit(){this.pageList()}pageList(){this.loaderType.set("full"),this.storiesbuilderService.pageList().subscribe({next:s=>{s!=null?s.success&&s.response.length>0&&(this.pageListArray=s.response):this.commonService.errorMessage(s.message),this.showParentPageLoader=!1}})}displayDateInUserFormat(s){return this.timeZoneService.convertDateInUserFormat(s)}};n.\u0275fac=function(m){return new(m||n)(_(P),_(I),_(oe))},n.\u0275cmp=D({type:n,selectors:[["app-pages"]],standalone:!0,features:[w],decls:45,vars:7,consts:[[1,"navbar","bg-body-tertiary","shadow-sm"],[1,"container-fluid"],["routerLink","/dashboard",1,"text-decoration-none"],[1,"text-muted","text-decoration-none"],["role","button"],["routerLink","./new","type","button",1,"btn","common-btn","mx-1"],[1,"bi","bi-plus"],[1,"container-fluid","mt-3"],[1,"row"],[1,"col-12"],[1,"list-table"],[1,"table","table-sm"],[1,"table-secondary"],["scope","row"],[1,"text-center"],[1,"bi","bi-arrow-down"],[1,"bi","bi-arrow-up"],["type","button",1,"btn","common-btn","me-1",3,"routerLink"],[1,"bi","bi-pencil"],["routerLink","./builder","type","button",1,"btn","common-btn","me-1",3,"queryParams"],[1,"bi","bi-layers-fill"],["routerLink","./meta-data","type","button",1,"btn","common-btn","me-1",3,"queryParams"],["colspan","8"]],template:function(m,l){m&1&&(t(0,"nav",0)(1,"div",1)(2,"div")(3,"a",2),a(4,"Dashboard / "),i(),t(5,"a",3),a(6,"Features"),i()(),t(7,"form",4)(8,"a",5),d(9,"i",6),a(10,"Add"),i()()()(),t(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"table",11)(16,"thead")(17,"tr",12),d(18,"th"),t(19,"th",13),a(20,"Name "),c(21,ve,3,1,"span"),i(),t(22,"th"),a(23,"Slug"),i(),t(24,"th",13),a(25,"Created At "),c(26,xe,3,1,"span"),i(),t(27,"th",13),a(28,"Created By "),c(29,Fe,3,1,"span"),i(),t(30,"th",13),a(31,"Updated At "),c(32,we,3,1,"span"),i(),t(33,"th",13),a(34,"Updated By "),c(35,Pe,3,1,"span"),i(),t(36,"th",13),a(37,"Status "),c(38,ke,3,1,"span"),i(),t(39,"th",13),a(40,"Actions"),i()()(),t(41,"tbody"),U(42,Ae,1,1,null,null,_e),c(44,Be,3,1,"tr",14),i()()()()()()),m&2&&(o(21),u(l.listDefaultParams.sortingColumn=="name"?21:-1),o(5),u(l.listDefaultParams.sortingColumn=="createdAt"?26:-1),o(3),u(l.listDefaultParams.sortingColumn=="createdBy"?29:-1),o(3),u(l.listDefaultParams.sortingColumn=="updatedAt"?32:-1),o(3),u(l.listDefaultParams.sortingColumn=="updatedBy"?35:-1),o(3),u(l.listDefaultParams.sortingColumn=="status"?38:-1),o(4),W(l.pageListArray),o(2),u(l.pageListArray.length==0?44:-1))},dependencies:[M]});let e=n;return e})();var k=e=>({"is-invalid":e});function Ue(e,n){e&1&&d(0,"img",13)}function We(e,n){if(e&1&&d(0,"img",14),e&2){let r=f();j("src",r.pageData.thumbnail,A)}}var V=(()=>{let n=class n{constructor(s,m,l,g,C){this.storiesBuilderService=s,this.route=m,this.commonService=l,this.router=g,this.lookupService=C,this.pageData=new L,this.categoryList=[],this.isFormSubmit=!1}ngOnInit(){let s=this.route.snapshot.paramMap.get("id");if(s){let m=Number(s);this.getPageData(m)}}getPageData(s){this.isFormSubmit=!1,this.storiesBuilderService.pageEdit(s).subscribe({next:m=>{m!=null?m.success&&(m.response!=0?this.pageData=m.response:this.pageData=new L):this.commonService.errorMessage(m.message)}})}pageDataUpdate(s){this.pageData!=null&&(this.isFormSubmit=!0,this.pageData.pageTypeId=3,this.storiesBuilderService.addOrUpdatePage(this.pageData).subscribe({next:m=>{m!=null?m.success&&(this.commonService.successMessage(m.message),this.pageData=new L,s&&this.router.navigate(["features"])):this.commonService.errorMessage(m.message)}}))}backTolListPage(){this.router.navigate(["features"])}};n.\u0275fac=function(m){return new(m||n)(_(P),_(G),_(I),_(H),_(re))},n.\u0275cmp=D({type:n,selectors:[["app-stories-content-edit"]],standalone:!0,features:[w],decls:54,vars:16,consts:[["f","ngForm"],["thumbnail","ngModel"],["name","ngModel"],["slug","ngModel"],["statusId","ngModel"],[1,"navbar","bg-body-tertiary","shadow-sm"],[1,"container-fluid"],["routerLink","/features"],[1,"text-muted","text-decoration-none"],[1,"container-fluid","mt-3"],["novalidate","",3,"ngSubmit"],[1,"row","g-3"],[1,"col-md-4"],["src","assets/dummy-img.png",1,"img-fluid","img-avatar"],[1,"img-fluid","img-avatar",3,"src"],["type","text","id","thumbnail","placeholder","Enter Image URL","name","thumbnail","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],[1,"invalid-feedback"],[1,"col-md-8"],[1,"col-12","col-md-4"],["for","txtName",1,"form-label"],[1,"text-danger"],["type","text","id","txtName","placeholder","Title","name","name","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],["for","slugName",1,"form-label"],["type","text","id","slugName","placeholder","Slug","name","slug","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],["for","status",1,"form-label"],["id","status","name","statusId",1,"form-select","form-select-sm",3,"ngModelChange","ngModel"],["value","1"],["value","2"],["value","3"],[1,"my-3"],["type","submit",1,"btn","btn-sm","btn-outline-danger","me-1",3,"click","disabled"],["type","submit",1,"btn","btn-sm","common-btn-width-outline",3,"disabled"]],template:function(m,l){if(m&1){let g=q();t(0,"nav",5)(1,"div",6)(2,"div")(3,"a",7),a(4,"Features / "),i(),t(5,"a",8),a(6,"Edit"),i()()()(),t(7,"div",9)(8,"form",10,0),N("ngSubmit",function(){h(g);let p=y(9);return b(p.form.valid&&l.pageDataUpdate(!0))}),t(10,"div",11)(11,"div",12),c(12,Ue,1,0,"img",13)(13,We,1,1,"img",14),t(14,"input",15,1),T("ngModelChange",function(p){return h(g),F(l.pageData.thumbnail,p)||(l.pageData.thumbnail=p),b(p)}),i(),t(16,"div",16),a(17," Thumbnail Img is required. "),i()(),t(18,"div",17)(19,"div",11)(20,"div",18)(21,"label",19),a(22,"Title Name "),t(23,"span",20),a(24,"*"),i()(),t(25,"input",21,2),T("ngModelChange",function(p){return h(g),F(l.pageData.name,p)||(l.pageData.name=p),b(p)}),i(),t(27,"div",16),a(28," Name field is required. "),i()(),t(29,"div",18)(30,"label",22),a(31,"Slug Name "),t(32,"span",20),a(33,"*"),i()(),t(34,"input",23,3),T("ngModelChange",function(p){return h(g),F(l.pageData.slug,p)||(l.pageData.slug=p),b(p)}),i(),t(36,"div",16),a(37," Name field is required. "),i()(),t(38,"div",18)(39,"label",24),a(40,"Status"),i(),t(41,"select",25,4),T("ngModelChange",function(p){return h(g),F(l.pageData.statusId,p)||(l.pageData.statusId=p),b(p)}),t(43,"option",26),a(44,"Published"),i(),t(45,"option",27),a(46,"Un-Published"),i(),t(47,"option",28),a(48,"Dropped"),i()()()()()(),t(49,"div",29)(50,"button",30),N("click",function(){return h(g),b(l.backTolListPage())}),a(51,"Cancel"),i(),t(52,"button",31),a(53,"Save "),i()()()()}if(m&2){let g=y(9),C=y(15),p=y(26),ce=y(35);o(12),u(l.pageData.thumbnail==null?12:13),o(2),E("ngModel",l.pageData.thumbnail),S("ngClass",x(10,k,g.submitted&&C.errors)),o(11),E("ngModel",l.pageData.name),S("ngClass",x(12,k,g.submitted&&p.errors)),o(9),E("ngModel",l.pageData.slug),S("ngClass",x(14,k,g.submitted&&ce.errors)),o(7),E("ngModel",l.pageData.statusId),o(9),S("disabled",!g.valid),o(2),S("disabled",!g.valid)}},dependencies:[ae,$,te,ie,J,ee,K,Q,ne,Y,X,z,Z,M]});let e=n;return e})();var lt=[{path:"",component:pe},{path:"edit/:id",component:V},{path:"new",component:V},{path:"builder",component:me},{path:"meta-data",component:se}];export{lt as FEATURES_ROUTES};
