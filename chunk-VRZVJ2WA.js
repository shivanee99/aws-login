import{$a as r,$b as O,Aa as o,Bb as V,Bc as U,Db as D,Mc as W,Oa as m,Qa as s,Wa as k,_a as c,ab as v,ac as P,ba as E,bb as S,bc as B,cb as b,eb as x,fc as N,gb as w,hb as d,ja as u,ka as g,pa as I,sb as p,tb as y,ub as C,vc as L,xb as T,yb as F,yc as $,zb as M}from"./chunk-FCI7FGJ6.js";var A=e=>({checked:e});function j(e,a){e&1&&(c(0,"span",15),v(1,"i",16),r())}function q(e,a){if(e&1){let t=x();c(0,"span",17),w("click",function(){u(t);let i=d(2);return g(i.clearSearchText())}),v(1,"i",18),r()}}function z(e,a){if(e&1){let t=x();c(0,"div",10)(1,"div",11)(2,"input",12),M("ngModelChange",function(i){u(t);let n=d();return F(n.search,i)||(n.search=i),g(i)}),r(),m(3,j,2,0,"span",13)(4,q,2,0,"span",14),r()()}if(e&2){let t=d();o(2),T("ngModel",t.search),o(),s("ngIf",t.search==""),o(),s("ngIf",t.search!="")}}function G(e,a){if(e&1){let t=x();c(0,"div",21)(1,"div",22)(2,"input",23),w("change",function(i){u(t);let n=d().$implicit,_=d(2);return g(_.onSelectionChange(i,n))}),r(),c(3,"label",24)(4,"span",25),p(5),r()()()()}if(e&2){let t=d().$implicit;s("ngClass",D(6,A,t.checked)),o(2),s("id","chkItem"+t.id)("checked",t.checked),o(),s("for","chkItem"+t.id),o(),s("title",t.name),o(),y(t.name)}}function H(e,a){if(e&1&&(S(0),m(1,G,6,8,"div",20),b()),e&2){let t=a.$implicit;o(),s("ngIf",t.visible)}}function J(e,a){if(e&1&&(c(0,"div",7),m(1,H,2,1,"ng-container",19),r()),e&2){let t=d();o(),s("ngForOf",t.filtered)("ngForTrackBy",t.trackByUuid)}}function K(e,a){if(e&1){let t=x();c(0,"div",27),w("click",function(i){u(t);let n=d().$implicit,_=d(2);return g(_.onSelectionChange(i,n))}),c(1,"div",22)(2,"label",24)(3,"span",25),p(4),r()()()()}if(e&2){let t=d().$implicit;s("ngClass",D(4,A,t.checked)),o(2),s("for","chkItem"+t.id),o(),s("title",t.name),o(),y(t.name)}}function Q(e,a){if(e&1&&(S(0),m(1,K,5,6,"div",26),b()),e&2){let t=a.$implicit;o(),s("ngIf",t.visible)}}function R(e,a){if(e&1&&(c(0,"div",7),m(1,Q,2,1,"ng-container",19),r()),e&2){let t=d();o(),s("ngForOf",t.filtered)("ngForTrackBy",t.trackByUuid)}}function X(e,a){e&1&&(c(0,"div",28),p(1," No item found ?? "),r())}function Y(e,a){if(e&1&&(c(0,"span",30)(1,"b"),p(2,"Search Count:"),r(),p(3),r()),e&2){let t=d(3);o(3),C(" ",t.filtered.length,"")}}function Z(e,a){if(e&1&&(c(0,"div",9)(1,"span",30)(2,"b"),p(3,"Count:"),r(),p(4),r(),c(5,"span",30)(6,"b"),p(7,"Checked:"),r(),p(8),r(),m(9,Y,4,1,"span",31),r()),e&2){let t=d(2);o(4),C(" ",t._items.length,""),o(4),C(" ",t.checked,""),o(),s("ngIf",t.search)}}function ee(e,a){if(e&1&&m(0,Z,10,3,"div",29),e&2){let t=d();s("ngIf",t.showStatus)}}var de=(()=>{let a=class a{constructor(){this._items=[],this.allSelectedData=[],this.placeholder="",this.multiDropdown=!1,this.showSearch=!1,this.showStatus=!1,this.showError=!1,this.onChange=new I,this.filtered=[],this.all={id:"",name:"All",checked:!1,visible:!0},this.searchText=""}set items(l){this._items=l,this._items.map(i=>{i.checked=i.checked||!1,i.visible=i.visible||!0}),this.filtered=[...this._items],this.filtered.length?this.all.visible=!0:this.all.visible=!1}get search(){return this.searchText}set search(l){this.searchText=l;let i=this.searchText.toLowerCase();if(!i){this.filtered=[...this._items],this.all.visible=!0;return}this.filtered=this._items.filter(n=>n.name?.toLowerCase().indexOf(i)!==-1),this.all.name?.toLowerCase().indexOf(i)!==-1?this.all.visible=!0:this.all.visible=!1}get selected(){var l="Select",i=this._items?.filter(n=>n.checked&&n.visible);return i.length>2?l=i[0].name+", "+i[1].name+" (+"+(i.length-2)+")":l=this._items?.filter(n=>n.checked&&n.visible)?.map(n=>n.name)?.join(", "),l}get isEmpty(){return this.filtered.filter(l=>l.visible).length===0}get checked(){return this._items.filter(l=>l.checked).length}ngOnInit(){}trackByUuid(l,i){return i?.id}onSelectionChange(l,i){if(this.multiDropdown){let n=l.target.checked,_=this._items.findIndex(h=>h.id===i.id);if(i.id===null){this.all.checked=n;for(let h of this._items)h.checked=n}else if(this._items[_].checked=n,this.all){this.all.checked&&(this.all.checked=!1);let h=this._items.filter(f=>f.id!==null).every(f=>f.checked);this.all.checked=h}if(i.checked)this.allSelectedData.push(i);else{let h=this.allSelectedData.findIndex(f=>f.id==i.id);h!==-1&&this.allSelectedData.splice(h,1)}}else{for(let n of this._items)n.checked=!1;i.checked=!0,i.checked?(this.allSelectedData=[],this.allSelectedData.push(i)):this.allSelectedData=[]}this.onChange.emit(this.allSelectedData)}clearSearchText(){this.search=""}};a.\u0275fac=function(i){return new(i||a)},a.\u0275cmp=E({type:a,selectors:[["app-dropdown"]],inputs:{placeholder:"placeholder",multiDropdown:"multiDropdown",showSearch:"showSearch",showStatus:"showStatus",showError:"showError",items:"items"},outputs:{onChange:"onChange"},standalone:!0,features:[V],decls:12,vars:7,consts:[[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-sm","w-100",3,"title","ngClass"],[1,"float-start"],[1,"float-end"],[1,"bi","bi-chevron-down"],[1,"dropdown-menu","w-100","pt-0"],["class","dropdown-item dropdown-item-search p-0","onclick","event.stopPropagation();",4,"ngIf"],[1,"dropdown-item-checkboxes"],["class","dropdown-item small",4,"ngIf"],[1,"dropdown-count","text-dark"],["onclick","event.stopPropagation();",1,"dropdown-item","dropdown-item-search","p-0"],[1,"input-group"],["type","text","placeholder","Search Text",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],["class","input-group-text","id","basic-addon2",4,"ngIf"],["class","input-group-text","id","basic-addon2",3,"click",4,"ngIf"],["id","basic-addon2",1,"input-group-text"],[1,"bi","bi-search"],["id","basic-addon2",1,"input-group-text",3,"click"],[1,"bi","bi-x-circle"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","dropdown-item","onclick","event.stopPropagation();",3,"ngClass",4,"ngIf"],["onclick","event.stopPropagation();",1,"dropdown-item",3,"ngClass"],[1,"custom-control","custom-checkbox"],["type","checkbox",1,"custom-control-input",3,"change","id","checked"],[1,"custom-control-label","ms-1","small",3,"for"],[1,"pl-2",3,"title"],["class","dropdown-item",3,"ngClass","click",4,"ngIf"],[1,"dropdown-item",3,"click","ngClass"],[1,"dropdown-item","small"],["class","dropdown-count text-dark",4,"ngIf"],[1,"ps-2","small"],["class","ps-2 small",4,"ngIf"]],template:function(i,n){i&1&&(c(0,"div",0)(1,"button",1)(2,"span",2),p(3),r(),c(4,"span",3),v(5,"i",4),r()(),c(6,"div",5),m(7,z,5,3,"div",6)(8,J,2,2,"div",7)(9,R,2,2,"div",7)(10,X,2,0,"div",8)(11,ee,1,1,"div",9),r()()),i&2&&(o(),s("title",n.selected)("ngClass",n.showError?"border border-danger":"border"),o(2),C(" ",n.selected?n.selected:n.placeholder?n.placeholder:"Select"," "),o(4),s("ngIf",n.showSearch),o(),k(n.multiDropdown?8:9),o(2),s("ngIf",n.isEmpty),o(),k(n.multiDropdown?11:-1))},dependencies:[N,O,P,B,W,L,$,U],styles:[".dropdown-menu[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto}.input-group-text[_ngcontent-%COMP%]{border-radius:0;cursor:pointer}.form-control[_ngcontent-%COMP%]:focus{box-shadow:none}"]});let e=a;return e})();export{de as a};
