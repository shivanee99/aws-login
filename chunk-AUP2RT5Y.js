import{a as gt}from"./chunk-3F6XYBCD.js";import{a as ft,b as k}from"./chunk-U2EGM5ZX.js";import{a as ut}from"./chunk-QJUVNZXF.js";import{a as mt}from"./chunk-D42AVTVB.js";import{a as pt}from"./chunk-TX4RGXHY.js";import{a as ct}from"./chunk-L32G27ZM.js";import{a as X,c as Y,d as M}from"./chunk-SOWNCCG4.js";import{a as st}from"./chunk-KSLAI2AB.js";import{b as $,m as L}from"./chunk-DYQSPWX7.js";import{$a as i,$b as J,Aa as d,Ac as nt,Ba as g,Bb as T,Bc as ot,Cc as rt,Db as I,Ic as dt,Ka as A,Mc as lt,Oa as p,Qa as _,T as W,Wa as u,Y as q,Ya as z,Za as U,_a as e,ab as f,ba as w,eb as j,fc as K,gb as E,hb as v,ja as C,ka as S,lb as O,ob as Q,pb as Z,qb as G,rb as b,sb as r,sc as tt,tb as V,ub as H,vc as et,xb as P,yb as y,yc as it,zb as x,zc as at}from"./chunk-FCI7FGJ6.js";import"./chunk-WWX6BADO.js";var F=(()=>{let o=class o{constructor(a){this.apiService=a}list(a){return this.apiService.apiCall("post","product_variation/list",a)}get(a){return this.apiService.apiCall("get","product_variation/"+a+"/edit")}addOrUpdate(a){var l="update";return a.id==""&&(l="create"),this.apiService.apiCall("post","product_variation/"+l,a)}};o.\u0275fac=function(l){return new(l||o)(q($))},o.\u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"});let t=o;return t})();var vt=(t,o)=>o.id;function Vt(t,o){t&1&&f(0,"i",16)}function bt(t,o){t&1&&f(0,"i",17)}function Pt(t,o){if(t&1&&(e(0,"span"),p(1,Vt,1,0,"i",16)(2,bt,1,0,"i",17),i()),t&2){let m=v();d(),u(m.listDefaultParams.sortingType=="asc"?1:2)}}function yt(t,o){t&1&&f(0,"i",16)}function xt(t,o){t&1&&f(0,"i",17)}function Dt(t,o){if(t&1&&(e(0,"span"),p(1,yt,1,0,"i",16)(2,xt,1,0,"i",17),i()),t&2){let m=v();d(),u(m.listDefaultParams.sortingType=="asc"?1:2)}}function Et(t,o){t&1&&f(0,"i",16)}function wt(t,o){t&1&&f(0,"i",17)}function Tt(t,o){if(t&1&&(e(0,"span"),p(1,Et,1,0,"i",16)(2,wt,1,0,"i",17),i()),t&2){let m=v();d(),u(m.listDefaultParams.sortingType=="asc"?1:2)}}function It(t,o){t&1&&f(0,"i",16)}function Mt(t,o){t&1&&f(0,"i",17)}function Lt(t,o){if(t&1&&(e(0,"span"),p(1,It,1,0,"i",16)(2,Mt,1,0,"i",17),i()),t&2){let m=v();d(),u(m.listDefaultParams.sortingType=="asc"?1:2)}}function Ft(t,o){t&1&&f(0,"i",16)}function Nt(t,o){t&1&&f(0,"i",17)}function At(t,o){if(t&1&&(e(0,"span"),p(1,Ft,1,0,"i",16)(2,Nt,1,0,"i",17),i()),t&2){let m=v();d(),u(m.listDefaultParams.sortingType=="asc"?1:2)}}function kt(t,o){t&1&&f(0,"i",16)}function Rt(t,o){t&1&&f(0,"i",17)}function Bt(t,o){if(t&1&&(e(0,"span"),p(1,kt,1,0,"i",16)(2,Rt,1,0,"i",17),i()),t&2){let m=v();d(),u(m.listDefaultParams.sortingType=="asc"?1:2)}}function Wt(t,o){if(t&1&&(e(0,"tr")(1,"td"),r(2),i(),e(3,"td"),r(4),i(),e(5,"td"),r(6),i(),e(7,"td"),r(8),i(),e(9,"td"),r(10),i(),e(11,"td"),r(12),i(),e(13,"td")(14,"a",18),f(15,"i",19),i()()()),t&2){let m=o.$implicit;d(2),V(m.name),d(2),V(m.createdAt),d(2),V(m.createdBy),d(2),V(m.updatedAt),d(2),V(m.updatedBy),d(2),V(m.status),d(2),O("routerLink","./edit/",m.id,"")}}function qt(t,o){if(t&1&&(e(0,"tr",14)(1,"td",20),r(2),i()()),t&2){let m=v();d(2),H("",m.listLoadingMessage," ")}}var Ct=(()=>{let o=class o{constructor(a,l,n,c){this.productVariationService=a,this.commonService=l,this.loaderService=n,this.timeZoneService=c,this.listDefaultParams=new ct,this.productVariationArray=[],this.loaderType=A(""),this.isShowFilter=A(!1),this.isEditCanvasShow=!1,this.isFilterSelected=!1,this.showParentPageLoader=!0,this.listLoadingMessage="Loading Data...",this.totalRows=0}ngOnInit(){this.productVariationList()}productVariationList(){this.loaderType.set("full"),this.productVariationService.list(this.listDefaultParams).subscribe({next:a=>{a!=null?a.success&&a.response.length>0&&(this.productVariationArray=a.response,this.listLoadingMessage="",this.totalRows=a.totalRows,this.listDefaultParams.pageNumber=a.pageNumber,this.listDefaultParams.pageSize=a.pageSize):(this.commonService.errorMessage(a.message),this.listLoadingMessage=a.message),this.showParentPageLoader=!1}})}displayDateInUserFormat(a){return this.timeZoneService.convertDateInUserFormat(a)}changePageNumberAndSize(a){this.listDefaultParams.pageNumber=a.pageNumber,this.listDefaultParams.pageSize=a.pageSize,this.productVariationList()}filterList(a){this.listDefaultParams.pageNumber=1,this.listDefaultParams.pageSize=10,this.listDefaultParams.filterConditions=a.filterConditions,this.listDefaultParams.sortingConditions=a.sortingConditions,this.listDefaultParams.sortingColumn=a.sortingColumn,this.listDefaultParams.sortingType=a.sortingType,this.listDefaultParams.filterConditions.length>0||this.listDefaultParams.sortingConditions.indexOf("name asc")<0||this.listDefaultParams.sortingConditions==""?this.isFilterSelected=!0:this.isFilterSelected=!1,this.productVariationList()}};o.\u0275fac=function(l){return new(l||o)(g(F),g(L),g(tt),g(st))},o.\u0275cmp=w({type:o,selectors:[["app-pages"]],standalone:!0,features:[T],decls:44,vars:10,consts:[[1,"navbar","bg-body-tertiary","shadow-sm"],[1,"container-fluid"],["routerLink","/dashboard",1,"text-decoration-none"],[1,"text-muted","text-decoration-none"],["role","button"],["routerLink","./new","type","button",1,"btn","common-btn","mx-1"],[1,"bi","bi-plus"],[1,"container-fluid","mt-3"],[1,"row"],[1,"col-12"],[1,"list-table"],[1,"table","table-sm"],[1,"table-secondary"],["scope","row"],[1,"text-center"],[3,"parentListRefresh","pageNumber","pageSize","totalRows"],[1,"bi","bi-arrow-down"],[1,"bi","bi-arrow-up"],["type","button",1,"btn","common-btn","me-1",3,"routerLink"],[1,"bi","bi-pencil"],["colspan","8"]],template:function(l,n){l&1&&(e(0,"nav",0)(1,"div",1)(2,"div")(3,"a",2),r(4,"Dashboard / "),i(),e(5,"a",3),r(6,"Product Variation"),i()(),e(7,"form",4)(8,"a",5),f(9,"i",6),r(10,"Add"),i()()()(),e(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"table",11)(16,"thead")(17,"tr",12)(18,"th",13),r(19,"Name "),p(20,Pt,3,1,"span"),i(),e(21,"th",13),r(22,"Created At "),p(23,Dt,3,1,"span"),i(),e(24,"th",13),r(25,"Created By "),p(26,Tt,3,1,"span"),i(),e(27,"th",13),r(28,"Updated At "),p(29,Lt,3,1,"span"),i(),e(30,"th",13),r(31,"Updated By "),p(32,At,3,1,"span"),i(),e(33,"th",13),r(34,"Status "),p(35,Bt,3,1,"span"),i(),e(36,"th",13),r(37,"Actions"),i()()(),e(38,"tbody"),z(39,Wt,16,8,"tr",null,vt),p(41,qt,3,1,"tr",14),i()()()(),e(42,"div",9)(43,"app-table-footer",15),E("parentListRefresh",function(h){return n.changePageNumberAndSize(h)}),i()()()()),l&2&&(d(20),u(n.listDefaultParams.sortingColumn=="name"?20:-1),d(3),u(n.listDefaultParams.sortingColumn=="createdAt"?23:-1),d(3),u(n.listDefaultParams.sortingColumn=="createdBy"?26:-1),d(3),u(n.listDefaultParams.sortingColumn=="updatedAt"?29:-1),d(3),u(n.listDefaultParams.sortingColumn=="updatedBy"?32:-1),d(3),u(n.listDefaultParams.sortingColumn=="status"?35:-1),d(4),U(n.productVariationArray),d(2),u(n.productVariationArray.length==0?41:-1),d(2),_("pageNumber",n.listDefaultParams.pageNumber)("pageSize",n.listDefaultParams.pageSize)("totalRows",n.totalRows))},dependencies:[pt,M]});let t=o;return t})();var D=class{constructor(){this.id=0,this.name="",this.code=""}};var R=t=>({"is-invalid":t});function zt(t,o){t&1&&(e(0,"small",16),r(1," product Id is required. "),i())}function Ut(t,o){t&1&&(e(0,"small",16),r(1," Status Field is required. "),i())}var B=(()=>{let o=class o{constructor(a,l,n,c,h,s,N){this.productVariationService=a,this.commonService=l,this.route=n,this.router=c,this.productStatusService=h,this.lookupService=s,this.dataTransferService=N,this.productVariationData=new D,this.isFormSubmit=!1,this.statusList=[],this.productList=[],this.productVariationId=0}ngOnInit(){this.productListLookup();let a=this.route.snapshot.paramMap.get("id");a&&(this.productVariationId=Number(a),this.getProductVariationData(this.productVariationId)),this.statusList=this.productStatusService.list()}ngAfterViewInit(){this.dataTransferService.pageSetForDynamicDataEdit(!0),this.dynamicDataEdit.fetchDynamicFields("Variation",this.productVariationId)}getProductVariationData(a){this.isFormSubmit=!1,this.productVariationService.get(a).subscribe({next:l=>{l!=null?l.success&&(l.response!=0?this.productVariationData=l.response:this.productVariationData=new D):this.commonService.errorMessage(l.message)}})}productVariationDataUpdate(a){var l=this.dynamicDataEdit.getDynamicFieldsValue();this.productVariationData!=null&&(this.isFormSubmit=!0,this.productVariationData.dynamicFields=l,this.productVariationService.addOrUpdate(this.productVariationData).subscribe({next:n=>{n!=null?n.success&&(this.commonService.successMessage(n.message),this.productVariationData=new D,a&&this.router.navigate(["product-variation"])):this.commonService.errorMessage(n.message)}}))}backTolListPage(){this.router.navigate(["product-variation"])}productListLookup(){this.lookupService.dropdown("product").subscribe({next:a=>{a!=null?a.success&&(this.productList=a.response):this.commonService.errorMessage(a.message)}})}};o.\u0275fac=function(l){return new(l||o)(g(F),g(L),g(X),g(Y),g(gt),g(mt),g(ft))},o.\u0275cmp=w({type:o,selectors:[["app-stories-edit"]],viewQuery:function(l,n){if(l&1&&Q(k,5),l&2){let c;Z(c=G())&&(n.dynamicDataEdit=c.first)}},standalone:!0,features:[T],decls:65,vars:20,consts:[["f","ngForm"],["name","ngModel"],["code","ngModel"],["basePrice","ngModel"],["productId","ngModel"],["statusId","ngModel"],[1,"navbar","bg-body-tertiary","shadow-sm"],[1,"container-fluid"],["routerLink","/product-variation",1,""],[1,"text-muted","text-decoration-none"],[1,"container-fluid","mt-3"],["novalidate","",3,"ngSubmit"],[1,"common-header","mb-2"],[1,"row","g-3"],[1,"col-12","col-md-4"],["for","txtName",1,"form-label"],[1,"text-danger"],["type","text","id","txtName","placeholder","Name","name","name","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],[1,"invalid-feedback"],["type","text","id","txtName","placeholder","Code","name","code","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],["for","BasePrice",1,"form-label"],["type","text","id","BasePrice","placeholder","Base Price","name","basePrice","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],[1,"col-lg-3","col-sm-12","col-md-6","col-12"],["for","productId",1,"form-label"],["bindLabel","name","bindValue","id","placeholder","Choose Model","name","productId",3,"ngModelChange","items","ngModel"],["for","itemTypeId",1,"form-label"],["bindLabel","name","bindValue","id","placeholder","Choose Status","name","statusId",3,"ngModelChange","items","ngModel"],[1,"mt-4"],[1,"my-3"],["type","button",1,"btn","btn-sm","btn-outline-danger","me-1",3,"click","disabled"],["type","submit",1,"btn","btn-sm","common-btn-width-outline",3,"disabled"]],template:function(l,n){if(l&1){let c=j();e(0,"nav",6)(1,"div",7)(2,"div")(3,"a",8),r(4,"Product Variation / "),i(),e(5,"a",9),r(6,"Edit"),i()()()(),e(7,"div",10)(8,"form",11,0),E("ngSubmit",function(){C(c);let s=b(9);return S(s.form.valid&&n.productVariationDataUpdate(!0))}),e(10,"div",12),r(11," Basic Field "),i(),e(12,"div",13)(13,"div",14)(14,"label",15),r(15,"Name "),e(16,"span",16),r(17,"*"),i()(),e(18,"input",17,1),x("ngModelChange",function(s){return C(c),y(n.productVariationData.name,s)||(n.productVariationData.name=s),S(s)}),i(),e(20,"div",18),r(21," Name is required. "),i()(),e(22,"div",14)(23,"label",15),r(24,"Code "),e(25,"span",16),r(26,"*"),i()(),e(27,"input",19,2),x("ngModelChange",function(s){return C(c),y(n.productVariationData.code,s)||(n.productVariationData.code=s),S(s)}),i(),e(29,"div",18),r(30," Code is required. "),i()(),e(31,"div",14)(32,"label",20),r(33,"Base Price "),e(34,"span",16),r(35,"*"),i()(),e(36,"input",21,3),x("ngModelChange",function(s){return C(c),y(n.productVariationData.basePrice,s)||(n.productVariationData.basePrice=s),S(s)}),i(),e(38,"div",18),r(39," Base Price is required. "),i()(),e(40,"div",22)(41,"label",23),r(42,"Product Id "),e(43,"span",16),r(44,"*"),i()(),e(45,"ng-select",24,4),x("ngModelChange",function(s){return C(c),y(n.productVariationData.productId,s)||(n.productVariationData.productId=s),S(s)}),i(),p(47,zt,2,0,"small",16),i(),e(48,"div",22)(49,"label",25),r(50,"Status "),e(51,"span",16),r(52,"*"),i()(),e(53,"ng-select",26,5),x("ngModelChange",function(s){return C(c),y(n.productVariationData.statusId,s)||(n.productVariationData.statusId=s),S(s)}),i(),p(55,Ut,2,0,"small",16),i()(),e(56,"div",27)(57,"div",12),r(58," Advanced Field "),i(),f(59,"app-dynamic-field-data"),i(),e(60,"div",28)(61,"button",29),E("click",function(){return C(c),S(n.backTolListPage())}),r(62,"Cancel"),i(),e(63,"button",30),r(64,"Save & Exit"),i()()()()}if(l&2){let c=b(9),h=b(19),s=b(28),N=b(37);d(18),P("ngModel",n.productVariationData.name),_("ngClass",I(14,R,c.submitted&&h.errors)),d(9),P("ngModel",n.productVariationData.code),_("ngClass",I(16,R,c.submitted&&s.errors)),d(9),P("ngModel",n.productVariationData.basePrice),_("ngClass",I(18,R,c.submitted&&N.errors)),d(9),_("items",n.productList),P("ngModel",n.productVariationData.productId),d(2),u(n.productVariationData.productId==0||n.productVariationData.productId==null?47:-1),d(6),_("items",n.statusList),P("ngModel",n.productVariationData.statusId),d(2),u(n.productVariationData.statusId==0||n.productVariationData.statusId==null?55:-1),d(6),_("disabled",!c.valid),d(2),_("disabled",!c.valid)}},dependencies:[lt,rt,et,it,at,dt,ot,nt,M,K,J,ut,k]});let t=o;return t})();var fe=[{path:"",component:Ct},{path:"new",component:B},{path:"edit/:id",component:B}];export{fe as PRODUCTVARIATION_ROUTES};
