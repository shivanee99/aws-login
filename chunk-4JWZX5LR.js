import{a as k}from"./chunk-3VYHKAG4.js";import{a as ae}from"./chunk-TX4RGXHY.js";import{a as ne}from"./chunk-L32G27ZM.js";import{a as Z,c as $,d as P}from"./chunk-SOWNCCG4.js";import{a as ie}from"./chunk-KSLAI2AB.js";import{m as A}from"./chunk-DYQSPWX7.js";import{$a as a,$b as j,Aa as s,Ac as Q,Ba as _,Bb as w,Bc as X,Cc as Y,Db as O,Ic as ee,Ka as F,Mc as te,Oa as d,Pa as N,Qa as C,Wa as u,Ya as M,Za as I,_a as t,ab as p,ba as D,bc as q,eb as E,fc as W,gb as v,hb as g,ja as S,ka as h,lb as R,rb as T,sb as m,sc as G,tb as y,ub as B,vc as H,xb as V,yb as z,yc as J,zb as U,zc as K}from"./chunk-FCI7FGJ6.js";import"./chunk-WWX6BADO.js";var me=(e,i)=>i.id;function de(e,i){e&1&&p(0,"i",16)}function ce(e,i){e&1&&p(0,"i",17)}function pe(e,i){if(e&1&&(t(0,"span"),d(1,de,1,0,"i",16)(2,ce,1,0,"i",17),a()),e&2){let l=g();s(),u(l.listDefaultParams.sortingType=="asc"?1:2)}}function ue(e,i){e&1&&p(0,"i",16)}function fe(e,i){e&1&&p(0,"i",17)}function ge(e,i){if(e&1&&(t(0,"span"),d(1,ue,1,0,"i",16)(2,fe,1,0,"i",17),a()),e&2){let l=g();s(),u(l.listDefaultParams.sortingType=="asc"?1:2)}}function _e(e,i){e&1&&p(0,"i",16)}function Ce(e,i){e&1&&p(0,"i",17)}function Se(e,i){if(e&1&&(t(0,"span"),d(1,_e,1,0,"i",16)(2,Ce,1,0,"i",17),a()),e&2){let l=g();s(),u(l.listDefaultParams.sortingType=="asc"?1:2)}}function he(e,i){e&1&&p(0,"i",16)}function ve(e,i){e&1&&p(0,"i",17)}function ye(e,i){if(e&1&&(t(0,"span"),d(1,he,1,0,"i",16)(2,ve,1,0,"i",17),a()),e&2){let l=g();s(),u(l.listDefaultParams.sortingType=="asc"?1:2)}}function xe(e,i){e&1&&p(0,"i",16)}function be(e,i){e&1&&p(0,"i",17)}function De(e,i){if(e&1&&(t(0,"span"),d(1,xe,1,0,"i",16)(2,be,1,0,"i",17),a()),e&2){let l=g();s(),u(l.listDefaultParams.sortingType=="asc"?1:2)}}function Ee(e,i){e&1&&p(0,"i",16)}function Te(e,i){e&1&&p(0,"i",17)}function we(e,i){if(e&1&&(t(0,"span"),d(1,Ee,1,0,"i",16)(2,Te,1,0,"i",17),a()),e&2){let l=g();s(),u(l.listDefaultParams.sortingType=="asc"?1:2)}}function Pe(e,i){if(e&1){let l=E();t(0,"div",18)(1,"input",21),v("click",function(o){S(l);let r=g().$implicit,c=g();return h(c.updateActiveFlagData(r.id,o))}),a()()}if(e&2){let l=g().$implicit;s(),C("defaultChecked",!0),N("checked",l.isActive==1?!0:null)}}function Ae(e,i){e&1&&(t(0,"span",19),m(1,"Default"),a())}function ke(e,i){if(e&1&&(t(0,"a",20),p(1,"i",22),a()),e&2){let l=g().$implicit;R("routerLink","./edit/",l.id,"")}}function Fe(e,i){e&1&&(t(0,"span",19),m(1,"Default"),a())}function Le(e,i){if(e&1&&(t(0,"tr"),p(1,"td"),t(2,"td"),m(3),a(),t(4,"td"),m(5),a(),t(6,"td"),m(7),a(),t(8,"td"),m(9),a(),t(10,"td"),m(11),a(),t(12,"td"),d(13,Pe,2,2,"div",18)(14,Ae,2,0,"span",19),a(),t(15,"td"),d(16,ke,2,2,"a",20)(17,Fe,2,0,"span",19),a()()),e&2){let l=i.$implicit;s(3),y(l.name),s(2),y(l.createdAt),s(2),y(l.createdBy),s(2),y(l.updatedAt),s(2),y(l.updatedBy),s(2),u(l.id!=0?13:14),s(3),u(l.id!=0?16:17)}}function Ne(e,i){if(e&1&&(t(0,"tr",14)(1,"td",23),m(2),a()()),e&2){let l=g();s(2),B("",l.listLoadingMessage," ")}}var oe=(()=>{let i=class i{constructor(n,o,r,c){this.storiesBuilderService=n,this.commonService=o,this.loaderService=r,this.timeZoneService=c,this.listDefaultParams=new ne,this.categoryArray=[],this.loaderType=F(""),this.isShowFilter=F(!1),this.isEditCanvasShow=!1,this.isFilterSelected=!1,this.showParentPageLoader=!0,this.listLoadingMessage="Loading Data...",this.totalRows=0}ngOnInit(){this.categoryList()}categoryList(){this.loaderType.set("full"),this.storiesBuilderService.storyCategoriesList(this.listDefaultParams).subscribe({next:n=>{n!=null?n.success&&n.response.length>0&&(this.categoryArray=n.response,this.listLoadingMessage="",this.totalRows=n.totalRows,this.listDefaultParams.pageNumber=n.pageNumber,this.listDefaultParams.pageSize=n.pageSize):(this.commonService.errorMessage(n.message),this.listLoadingMessage=n.message),this.showParentPageLoader=!1}})}displayDateInUserFormat(n){return this.timeZoneService.convertDateInUserFormat(n)}changePageNumberAndSize(n){this.listDefaultParams.pageNumber=n.pageNumber,this.listDefaultParams.pageSize=n.pageSize,this.categoryList()}filterList(n){this.listDefaultParams.pageNumber=1,this.listDefaultParams.pageSize=10,this.listDefaultParams.filterConditions=n.filterConditions,this.listDefaultParams.sortingConditions=n.sortingConditions,this.listDefaultParams.sortingColumn=n.sortingColumn,this.listDefaultParams.sortingType=n.sortingType,this.listDefaultParams.filterConditions.length>0||this.listDefaultParams.sortingConditions.indexOf("name asc")<0||this.listDefaultParams.sortingConditions==""?this.isFilterSelected=!0:this.isFilterSelected=!1,this.categoryList()}updateActiveFlagData(n,o){if(this.categoryArray.length>0){for(var r=0;r<this.categoryArray.length;r++)if(this.categoryArray[r].id==n&&(this.categoryArray[r].isActive=o.target.checked==!0?1:0,n!=null&&n!="")){var c={id:n,isActive:this.categoryArray[r].isActive};this.storiesBuilderService.updateActiveFlag(c).subscribe({next:f=>{f!=null?f.success&&this.commonService.successMessage(f.message):this.commonService.errorMessage(f.message)}})}}}};i.\u0275fac=function(o){return new(o||i)(_(k),_(A),_(G),_(ie))},i.\u0275cmp=D({type:i,selectors:[["app-pages"]],standalone:!0,features:[w],decls:45,vars:10,consts:[[1,"navbar","bg-body-tertiary","shadow-sm"],[1,"container-fluid"],["routerLink","/dashboard",1,"text-decoration-none"],[1,"text-muted","text-decoration-none"],["role","button"],["routerLink","./new","type","button",1,"btn","common-btn","mx-1"],[1,"bi","bi-plus"],[1,"container-fluid","mt-3"],[1,"row"],[1,"col-12"],[1,"list-table"],[1,"table","table-sm"],[1,"table-secondary"],["scope","row"],[1,"text-center"],[3,"parentListRefresh","pageNumber","pageSize","totalRows"],[1,"bi","bi-arrow-down"],[1,"bi","bi-arrow-up"],[1,"form-check","form-switch"],[1,"badge","bg-primary-subtle","text-primary"],["type","button",1,"btn","common-btn","me-1",3,"routerLink"],["type","checkbox","role","switch","id","flexSwitchCheckChecked",1,"form-check-input",3,"click","defaultChecked"],[1,"bi","bi-pencil"],["colspan","8"]],template:function(o,r){o&1&&(t(0,"nav",0)(1,"div",1)(2,"div")(3,"a",2),m(4,"Dashboard / "),a(),t(5,"a",3),m(6,"Story Categories"),a()(),t(7,"form",4)(8,"a",5),p(9,"i",6),m(10,"Add"),a()()()(),t(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"table",11)(16,"thead")(17,"tr",12),p(18,"th"),t(19,"th",13),m(20,"Name "),d(21,pe,3,1,"span"),a(),t(22,"th",13),m(23,"Created At "),d(24,ge,3,1,"span"),a(),t(25,"th",13),m(26,"Created By "),d(27,Se,3,1,"span"),a(),t(28,"th",13),m(29,"Updated At "),d(30,ye,3,1,"span"),a(),t(31,"th",13),m(32,"Updated By "),d(33,De,3,1,"span"),a(),t(34,"th",13),m(35,"Status "),d(36,we,3,1,"span"),a(),t(37,"th",13),m(38,"Actions"),a()()(),t(39,"tbody"),M(40,Le,18,7,"tr",null,me),d(42,Ne,3,1,"tr",14),a()()()(),t(43,"div",9)(44,"app-table-footer",15),v("parentListRefresh",function(f){return r.changePageNumberAndSize(f)}),a()()()()),o&2&&(s(21),u(r.listDefaultParams.sortingColumn=="name"?21:-1),s(3),u(r.listDefaultParams.sortingColumn=="createdAt"?24:-1),s(3),u(r.listDefaultParams.sortingColumn=="createdBy"?27:-1),s(3),u(r.listDefaultParams.sortingColumn=="updatedAt"?30:-1),s(3),u(r.listDefaultParams.sortingColumn=="updatedBy"?33:-1),s(3),u(r.listDefaultParams.sortingColumn=="status"?36:-1),s(4),I(r.categoryArray),s(2),u(r.categoryArray.length==0?42:-1),s(2),C("pageNumber",r.listDefaultParams.pageNumber)("pageSize",r.listDefaultParams.pageSize)("totalRows",r.totalRows))},dependencies:[ae,P]});let e=i;return e})();var x=class{constructor(){this.id=0,this.name="",this.isActive=1}};var Me=e=>({"is-invalid":e});function Ie(e,i){e&1&&(t(0,"div",17),m(1," Category Name field is required and must be at least 3 characters. "),a())}var L=(()=>{let i=class i{constructor(n,o,r,c){this.storiesBuilderService=n,this.commonService=o,this.route=r,this.router=c,this.storyCategoryData=new x,this.isFormSubmit=!1}ngOnInit(){let n=this.route.snapshot.paramMap.get("id");if(n){var o=Number(n);this.getCateogryData(o)}}getCateogryData(n){this.isFormSubmit=!1,this.storiesBuilderService.storyCategoriesEdit(n).subscribe({next:o=>{o!=null?o.success&&(o.response!=0?this.storyCategoryData=o.response:this.storyCategoryData=new x):this.commonService.errorMessage(o.message)}})}categoryDataUpdate(n){this.storyCategoryData!=null&&(this.isFormSubmit=!0,this.storiesBuilderService.addOrUpdateStoryCategory(this.storyCategoryData).subscribe({next:o=>{o!=null?o.success&&(this.commonService.successMessage(o.message),this.storyCategoryData=new x,n&&this.router.navigate(["story-Categories"])):this.commonService.errorMessage(o.message)}}))}backTolListPage(){this.router.navigate(["story-Categories"])}};i.\u0275fac=function(o){return new(o||i)(_(k),_(A),_(Z),_($))},i.\u0275cmp=D({type:i,selectors:[["app-stories-edit"]],standalone:!0,features:[w],decls:24,vars:7,consts:[["f","ngForm"],["name","ngModel"],[1,"navbar","bg-body-tertiary","shadow-sm"],[1,"container-fluid"],["routerLink","/story-Categories",1,""],[1,"text-muted","text-decoration-none"],[1,"container-fluid","mt-3"],["novalidate","",3,"ngSubmit"],[1,"row","g-3"],[1,"col-12","col-md-4"],["for","txtName",1,"form-label"],[1,"text-danger"],["type","text","id","txtName","placeholder","Name","name","name","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"my-3"],["type","button",1,"btn","btn-sm","btn-outline-danger","me-1",3,"click","disabled"],["type","submit",1,"btn","btn-sm","common-btn-width-outline",3,"disabled"],[1,"invalid-feedback"]],template:function(o,r){if(o&1){let c=E();t(0,"nav",2)(1,"div",3)(2,"div")(3,"a",4),m(4,"Story Categories / "),a(),t(5,"a",5),m(6,"Edit"),a()()()(),t(7,"div",6)(8,"form",7,0),v("ngSubmit",function(){S(c);let b=T(9);return h(b.form.valid&&r.categoryDataUpdate(!0))}),t(10,"div",8)(11,"div",9)(12,"label",10),m(13,"Category Name "),t(14,"span",11),m(15,"*"),a()(),t(16,"input",12,1),U("ngModelChange",function(b){return S(c),z(r.storyCategoryData.name,b)||(r.storyCategoryData.name=b),h(b)}),a(),d(18,Ie,2,0,"div",13),a()(),t(19,"div",14)(20,"button",15),v("click",function(){return S(c),h(r.backTolListPage())}),m(21,"Cancel"),a(),t(22,"button",16),m(23,"Save & Exit"),a()()()()}if(o&2){let c=T(9),f=T(17);s(16),V("ngModel",r.storyCategoryData.name),C("ngClass",O(5,Me,f.invalid&&(c.submitted||f.touched))),s(2),C("ngIf",f.invalid&&(c.submitted||f.touched)),s(2),C("disabled",!c.valid),s(2),C("disabled",!c.valid)}},dependencies:[te,Y,H,J,K,ee,X,Q,P,W,j,q]});let e=i;return e})();var tt=[{path:"",component:oe},{path:"edit/:id",component:L},{path:"new",component:L}];export{tt as STORIES_ROUTES};
