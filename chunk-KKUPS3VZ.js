import{a as re}from"./chunk-3F6XYBCD.js";import"./chunk-QJUVNZXF.js";import{a as se}from"./chunk-TX4RGXHY.js";import{a as ae}from"./chunk-L32G27ZM.js";import{a as Z,c as $,d as E}from"./chunk-SOWNCCG4.js";import{a as oe}from"./chunk-KSLAI2AB.js";import{b as H,m as P}from"./chunk-DYQSPWX7.js";import{$a as a,$b as q,Aa as r,Ac as Y,Ba as b,Bb as T,Bc as ee,Cc as te,Db as O,Ic as ie,Ka as L,Mc as ne,Oa as c,Pa as M,Qa as _,T as k,Wa as d,Y as F,Ya as I,Za as R,_a as n,ab as p,ba as y,eb as D,fc as W,gb as v,hb as h,ja as S,ka as g,lb as V,rb as w,sb as l,sc as J,tb as C,ub as U,vc as K,xb as z,yb as B,yc as Q,zb as j,zc as X}from"./chunk-FCI7FGJ6.js";import"./chunk-WWX6BADO.js";var A=(()=>{let i=class i{constructor(t){this.apiService=t}list(t){return this.apiService.apiCall("post","sub_group/list",t)}get(t){return this.apiService.apiCall("get","sub_group/"+t+"/edit")}addOrUpdate(t){var o="update";return t.id==""&&(o="create"),this.apiService.apiCall("post","sub_group/"+o,t)}updateActiveFlag(t){return this.apiService.apiCall("post","sub_group/flag/active/update",t)}};i.\u0275fac=function(o){return new(o||i)(F(H))},i.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})();var ce=(e,i)=>i.id;function de(e,i){e&1&&p(0,"i",16)}function fe(e,i){e&1&&p(0,"i",17)}function be(e,i){if(e&1&&(n(0,"span"),c(1,de,1,0,"i",16)(2,fe,1,0,"i",17),a()),e&2){let m=h();r(),d(m.listDefaultParams.sortingType=="asc"?1:2)}}function he(e,i){e&1&&p(0,"i",16)}function Se(e,i){e&1&&p(0,"i",17)}function ge(e,i){if(e&1&&(n(0,"span"),c(1,he,1,0,"i",16)(2,Se,1,0,"i",17),a()),e&2){let m=h();r(),d(m.listDefaultParams.sortingType=="asc"?1:2)}}function _e(e,i){e&1&&p(0,"i",16)}function ve(e,i){e&1&&p(0,"i",17)}function Ce(e,i){if(e&1&&(n(0,"span"),c(1,_e,1,0,"i",16)(2,ve,1,0,"i",17),a()),e&2){let m=h();r(),d(m.listDefaultParams.sortingType=="asc"?1:2)}}function xe(e,i){e&1&&p(0,"i",16)}function Ge(e,i){e&1&&p(0,"i",17)}function ye(e,i){if(e&1&&(n(0,"span"),c(1,xe,1,0,"i",16)(2,Ge,1,0,"i",17),a()),e&2){let m=h();r(),d(m.listDefaultParams.sortingType=="asc"?1:2)}}function De(e,i){e&1&&p(0,"i",16)}function we(e,i){e&1&&p(0,"i",17)}function Te(e,i){if(e&1&&(n(0,"span"),c(1,De,1,0,"i",16)(2,we,1,0,"i",17),a()),e&2){let m=h();r(),d(m.listDefaultParams.sortingType=="asc"?1:2)}}function Ee(e,i){e&1&&p(0,"i",16)}function Pe(e,i){e&1&&p(0,"i",17)}function Ae(e,i){if(e&1&&(n(0,"span"),c(1,Ee,1,0,"i",16)(2,Pe,1,0,"i",17),a()),e&2){let m=h();r(),d(m.listDefaultParams.sortingType=="asc"?1:2)}}function Le(e,i){if(e&1){let m=D();n(0,"tr")(1,"td"),l(2),a(),n(3,"td"),l(4),a(),n(5,"td"),l(6),a(),n(7,"td"),l(8),a(),n(9,"td"),l(10),a(),n(11,"td")(12,"div",18)(13,"input",19),v("click",function(o){let s=S(m).$implicit,u=h();return g(u.updateActiveFlagData(s.id,o))}),a()()(),n(14,"td")(15,"a",20),p(16,"i",21),a()()()}if(e&2){let m=i.$implicit;r(2),C(m.name),r(2),C(m.createdAt),r(2),C(m.createdBy),r(2),C(m.updatedAt),r(2),C(m.updatedBy),r(3),M("checked",m.isActive==1?!0:null),r(2),V("routerLink","./edit/",m.id,"")}}function Ne(e,i){if(e&1&&(n(0,"tr",14)(1,"td",22),l(2),a()()),e&2){let m=h();r(2),U("",m.listLoadingMessage," ")}}var ue=(()=>{let i=class i{constructor(t,o,s,u){this.subGroupsService=t,this.commonService=o,this.loaderService=s,this.timeZoneService=u,this.listDefaultParams=new ae,this.subGroupsArray=[],this.loaderType=L(""),this.isShowFilter=L(!1),this.isEditCanvasShow=!1,this.isFilterSelected=!1,this.showParentPageLoader=!0,this.listLoadingMessage="Loading Data...",this.totalRows=0}ngOnInit(){this.subGroupsList()}subGroupsList(){this.loaderType.set("full"),this.subGroupsService.list(this.listDefaultParams).subscribe({next:t=>{t!=null?t.success&&t.response.length>0&&(this.subGroupsArray=t.response,this.listLoadingMessage="",this.totalRows=t.totalRows,this.listDefaultParams.pageNumber=t.pageNumber,this.listDefaultParams.pageSize=t.pageSize):(this.commonService.errorMessage(t.message),this.listLoadingMessage=t.message),this.showParentPageLoader=!1}})}displayDateInUserFormat(t){return this.timeZoneService.convertDateInUserFormat(t)}changePageNumberAndSize(t){this.listDefaultParams.pageNumber=t.pageNumber,this.listDefaultParams.pageSize=t.pageSize,this.subGroupsList()}filterList(t){this.listDefaultParams.pageNumber=1,this.listDefaultParams.pageSize=10,this.listDefaultParams.filterConditions=t.filterConditions,this.listDefaultParams.sortingConditions=t.sortingConditions,this.listDefaultParams.sortingColumn=t.sortingColumn,this.listDefaultParams.sortingType=t.sortingType,this.listDefaultParams.filterConditions.length>0||this.listDefaultParams.sortingConditions.indexOf("name asc")<0||this.listDefaultParams.sortingConditions==""?this.isFilterSelected=!0:this.isFilterSelected=!1,this.subGroupsList()}updateActiveFlagData(t,o){if(this.subGroupsArray.length>0){for(var s=0;s<this.subGroupsArray.length;s++)if(this.subGroupsArray[s].id==t&&(this.subGroupsArray[s].isActive=o.target.checked==!0?1:0,t!=null&&t!="")){var u={id:t,isActive:this.subGroupsArray[s].isActive};this.subGroupsService.updateActiveFlag(u).subscribe({next:f=>{f!=null?f.success&&this.commonService.successMessage(f.message):this.commonService.errorMessage(f.message)}})}}}};i.\u0275fac=function(o){return new(o||i)(b(A),b(P),b(J),b(oe))},i.\u0275cmp=y({type:i,selectors:[["app-pages"]],standalone:!0,features:[T],decls:44,vars:10,consts:[[1,"navbar","bg-body-tertiary","shadow-sm"],[1,"container-fluid"],["routerLink","/dashboard",1,"text-decoration-none"],[1,"text-muted","text-decoration-none"],["role","button"],["routerLink","./new","type","button",1,"btn","common-btn","mx-1"],[1,"bi","bi-plus"],[1,"container-fluid","mt-3"],[1,"row"],[1,"col-12"],[1,"list-table"],[1,"table","table-sm"],[1,"table-secondary"],["scope","row"],[1,"text-center"],[3,"parentListRefresh","pageNumber","pageSize","totalRows"],[1,"bi","bi-arrow-down"],[1,"bi","bi-arrow-up"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckChecked",1,"form-check-input",3,"click"],["type","button",1,"btn","common-btn","me-1",3,"routerLink"],[1,"bi","bi-pencil"],["colspan","8"]],template:function(o,s){o&1&&(n(0,"nav",0)(1,"div",1)(2,"div")(3,"a",2),l(4,"Dashboard / "),a(),n(5,"a",3),l(6,"Sub Groups"),a()(),n(7,"form",4)(8,"a",5),p(9,"i",6),l(10,"Add"),a()()()(),n(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"table",11)(16,"thead")(17,"tr",12)(18,"th",13),l(19,"Name "),c(20,be,3,1,"span"),a(),n(21,"th",13),l(22,"Created At "),c(23,ge,3,1,"span"),a(),n(24,"th",13),l(25,"Created By "),c(26,Ce,3,1,"span"),a(),n(27,"th",13),l(28,"Updated At "),c(29,ye,3,1,"span"),a(),n(30,"th",13),l(31,"Updated By "),c(32,Te,3,1,"span"),a(),n(33,"th",13),l(34,"Status "),c(35,Ae,3,1,"span"),a(),n(36,"th",13),l(37,"Actions"),a()()(),n(38,"tbody"),I(39,Le,17,8,"tr",null,ce),c(41,Ne,3,1,"tr",14),a()()()(),n(42,"div",9)(43,"app-table-footer",15),v("parentListRefresh",function(f){return s.changePageNumberAndSize(f)}),a()()()()),o&2&&(r(20),d(s.listDefaultParams.sortingColumn=="name"?20:-1),r(3),d(s.listDefaultParams.sortingColumn=="createdAt"?23:-1),r(3),d(s.listDefaultParams.sortingColumn=="createdBy"?26:-1),r(3),d(s.listDefaultParams.sortingColumn=="updatedAt"?29:-1),r(3),d(s.listDefaultParams.sortingColumn=="updatedBy"?32:-1),r(3),d(s.listDefaultParams.sortingColumn=="status"?35:-1),r(4),R(s.subGroupsArray),r(2),d(s.subGroupsArray.length==0?41:-1),r(2),_("pageNumber",s.listDefaultParams.pageNumber)("pageSize",s.listDefaultParams.pageSize)("totalRows",s.totalRows))},dependencies:[se,E]});let e=i;return e})();var x=class{constructor(){this.id=0,this.name="",this.isActive=1}};var ke=e=>({"is-invalid":e}),N=(()=>{let i=class i{constructor(t,o,s,u,f){this.subGroupsService=t,this.commonService=o,this.route=s,this.router=u,this.productStatusService=f,this.subGroupsData=new x,this.isFormSubmit=!1,this.statusList=[],this.modelList=[]}ngOnInit(){let t=this.route.snapshot.paramMap.get("id");if(t){var o=Number(t);this.getSubGroupsData(o)}this.statusList=this.productStatusService.list()}getSubGroupsData(t){this.isFormSubmit=!1,this.subGroupsService.get(t).subscribe({next:o=>{o!=null?o.success&&(o.response!=0?this.subGroupsData=o.response:this.subGroupsData=new x):this.commonService.errorMessage(o.message)}})}subGroupsUpdate(t){this.subGroupsData!=null&&(this.isFormSubmit=!0,this.subGroupsService.addOrUpdate(this.subGroupsData).subscribe({next:o=>{o!=null?o.success&&(this.commonService.successMessage(o.message),this.subGroupsData=new x,t&&this.router.navigate(["sub-groups"])):this.commonService.errorMessage(o.message)}}))}backTolListPage(){this.router.navigate(["sub-groups"])}};i.\u0275fac=function(o){return new(o||i)(b(A),b(P),b(Z),b($),b(re))},i.\u0275cmp=y({type:i,selectors:[["app-stories-edit"]],standalone:!0,features:[T],decls:25,vars:6,consts:[["f","ngForm"],["name","ngModel"],[1,"navbar","bg-body-tertiary","shadow-sm"],[1,"container-fluid"],["routerLink","/sub-groups",1,""],[1,"text-muted","text-decoration-none"],[1,"container-fluid","mt-3"],["novalidate","",3,"ngSubmit"],[1,"row","g-3"],[1,"col-12","col-md-4"],["for","txtName",1,"form-label"],[1,"text-danger"],["type","text","id","txtName","placeholder","Name","name","name","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],[1,"invalid-feedback"],[1,"my-3"],["type","button",1,"btn","btn-sm","btn-outline-danger","me-1",3,"click","disabled"],["type","submit",1,"btn","btn-sm","common-btn-width-outline",3,"disabled"]],template:function(o,s){if(o&1){let u=D();n(0,"nav",2)(1,"div",3)(2,"div")(3,"a",4),l(4,"Sub Groups / "),a(),n(5,"a",5),l(6,"Edit"),a()()()(),n(7,"div",6)(8,"form",7,0),v("ngSubmit",function(){S(u);let G=w(9);return g(G.form.valid&&s.subGroupsUpdate(!0))}),n(10,"div",8)(11,"div",9)(12,"label",10),l(13,"Name "),n(14,"span",11),l(15,"*"),a()(),n(16,"input",12,1),j("ngModelChange",function(G){return S(u),B(s.subGroupsData.name,G)||(s.subGroupsData.name=G),g(G)}),a(),n(18,"div",13),l(19," Name is required. "),a()()(),n(20,"div",14)(21,"button",15),v("click",function(){return S(u),g(s.backTolListPage())}),l(22,"Cancel"),a(),n(23,"button",16),l(24,"Save & Exit"),a()()()()}if(o&2){let u=w(9),f=w(17);r(16),z("ngModel",s.subGroupsData.name),_("ngClass",O(4,ke,u.submitted&&f.errors)),r(5),_("disabled",!u.valid),r(2),_("disabled",!u.valid)}},dependencies:[ne,te,K,Q,X,ie,ee,Y,E,W,q]});let e=i;return e})();var tt=[{path:"",component:ue},{path:"new",component:N},{path:"edit/:id",component:N}];export{tt as SUBGROUPS_ROUTES};
