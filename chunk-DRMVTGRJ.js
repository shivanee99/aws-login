import{a as _e}from"./chunk-3F6XYBCD.js";import{a as he,b as B}from"./chunk-U2EGM5ZX.js";import{a as ge}from"./chunk-QJUVNZXF.js";import{a as pe}from"./chunk-D42AVTVB.js";import{a as fe}from"./chunk-TX4RGXHY.js";import{a as ue}from"./chunk-L32G27ZM.js";import{a as $,c as ee,d as L}from"./chunk-SOWNCCG4.js";import{a as ce}from"./chunk-KSLAI2AB.js";import{b as te,m as F}from"./chunk-DYQSPWX7.js";import{$a as i,$b as X,Aa as l,Ac as re,Ba as h,Bb as I,Bc as le,Cc as de,Db as T,Ic as se,Ka as A,Mc as me,Oa as u,Qa as _,T as W,Wa as f,Y as q,Ya as z,Za as j,_a as t,ab as p,ba as M,eb as O,fc as Y,gb as w,hb as C,ja as S,ka as v,kb as Q,lb as Z,ob as G,pb as J,qb as H,rb as P,sb as r,sc as ie,tb as b,ub as K,vc as ne,xa as U,xb as y,yb as x,yc as ae,zb as D,zc as oe}from"./chunk-FCI7FGJ6.js";import"./chunk-WWX6BADO.js";var N=(()=>{let o=class o{constructor(a){this.apiService=a}list(a){return this.apiService.apiCall("post","product/list",a)}get(a){return this.apiService.apiCall("get","product/"+a+"/edit")}addOrUpdate(a){var d="update";return a.id==""&&(d="create"),this.apiService.apiCall("post","product/"+d,a)}};o.\u0275fac=function(d){return new(d||o)(q(te))},o.\u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"});let e=o;return e})();var ye=(e,o)=>o.id;function xe(e,o){e&1&&p(0,"i",16)}function De(e,o){e&1&&p(0,"i",17)}function Ee(e,o){if(e&1&&(t(0,"span"),u(1,xe,1,0,"i",16)(2,De,1,0,"i",17),i()),e&2){let m=C();l(),f(m.listDefaultParams.sortingType=="asc"?1:2)}}function we(e,o){e&1&&p(0,"i",16)}function Te(e,o){e&1&&p(0,"i",17)}function Me(e,o){if(e&1&&(t(0,"span"),u(1,we,1,0,"i",16)(2,Te,1,0,"i",17),i()),e&2){let m=C();l(),f(m.listDefaultParams.sortingType=="asc"?1:2)}}function Ie(e,o){e&1&&p(0,"i",16)}function Le(e,o){e&1&&p(0,"i",17)}function Fe(e,o){if(e&1&&(t(0,"span"),u(1,Ie,1,0,"i",16)(2,Le,1,0,"i",17),i()),e&2){let m=C();l(),f(m.listDefaultParams.sortingType=="asc"?1:2)}}function Ne(e,o){e&1&&p(0,"i",16)}function Ve(e,o){e&1&&p(0,"i",17)}function ke(e,o){if(e&1&&(t(0,"span"),u(1,Ne,1,0,"i",16)(2,Ve,1,0,"i",17),i()),e&2){let m=C();l(),f(m.listDefaultParams.sortingType=="asc"?1:2)}}function Ae(e,o){e&1&&p(0,"i",16)}function Be(e,o){e&1&&p(0,"i",17)}function Re(e,o){if(e&1&&(t(0,"span"),u(1,Ae,1,0,"i",16)(2,Be,1,0,"i",17),i()),e&2){let m=C();l(),f(m.listDefaultParams.sortingType=="asc"?1:2)}}function We(e,o){e&1&&p(0,"i",16)}function qe(e,o){e&1&&p(0,"i",17)}function Ue(e,o){if(e&1&&(t(0,"span"),u(1,We,1,0,"i",16)(2,qe,1,0,"i",17),i()),e&2){let m=C();l(),f(m.listDefaultParams.sortingType=="asc"?1:2)}}function ze(e,o){if(e&1&&(t(0,"tr")(1,"td"),r(2),i(),t(3,"td"),r(4),i(),t(5,"td"),r(6),i(),t(7,"td"),r(8),i(),t(9,"td"),r(10),i(),t(11,"td"),r(12),i(),t(13,"td"),r(14),i(),t(15,"td")(16,"a",18),p(17,"i",19),i()()()),e&2){let m=o.$implicit;l(2),b(m.name),l(2),b(m.code),l(2),b(m.createdAt),l(2),b(m.createdBy),l(2),b(m.updatedAt),l(2),b(m.updatedBy),l(2),b(m.status),l(2),Z("routerLink","./edit/",m.id,"")}}function je(e,o){if(e&1&&(t(0,"tr",14)(1,"td",20),r(2),i()()),e&2){let m=C();l(2),K("",m.listLoadingMessage," ")}}var ve=(()=>{let o=class o{constructor(a,d,n,c){this.productService=a,this.commonService=d,this.loaderService=n,this.timeZoneService=c,this.listDefaultParams=new ue,this.productArray=[],this.loaderType=A(""),this.isShowFilter=A(!1),this.isEditCanvasShow=!1,this.isFilterSelected=!1,this.showParentPageLoader=!0,this.listLoadingMessage="Loading Data...",this.totalRows=0}ngOnInit(){this.productList()}productList(){this.loaderType.set("full"),this.productService.list(this.listDefaultParams).subscribe({next:a=>{a!=null?a.success&&a.response.length>0&&(this.productArray=a.response,this.listLoadingMessage="",this.totalRows=a.totalRows,this.listDefaultParams.pageNumber=a.pageNumber,this.listDefaultParams.pageSize=a.pageSize):(this.commonService.errorMessage(a.message),this.listLoadingMessage=a.message),this.showParentPageLoader=!1}})}displayDateInUserFormat(a){return this.timeZoneService.convertDateInUserFormat(a)}changePageNumberAndSize(a){this.listDefaultParams.pageNumber=a.pageNumber,this.listDefaultParams.pageSize=a.pageSize,this.productList()}filterList(a){this.listDefaultParams.pageNumber=1,this.listDefaultParams.pageSize=10,this.listDefaultParams.filterConditions=a.filterConditions,this.listDefaultParams.sortingConditions=a.sortingConditions,this.listDefaultParams.sortingColumn=a.sortingColumn,this.listDefaultParams.sortingType=a.sortingType,this.listDefaultParams.filterConditions.length>0||this.listDefaultParams.sortingConditions.indexOf("name asc")<0||this.listDefaultParams.sortingConditions==""?this.isFilterSelected=!0:this.isFilterSelected=!1,this.productList()}};o.\u0275fac=function(d){return new(d||o)(h(N),h(F),h(ie),h(ce))},o.\u0275cmp=M({type:o,selectors:[["app-pages"]],standalone:!0,features:[I],decls:46,vars:10,consts:[[1,"navbar","bg-body-tertiary","shadow-sm"],[1,"container-fluid"],["routerLink","/dashboard",1,"text-decoration-none"],[1,"text-muted","text-decoration-none"],["role","button"],["routerLink","./new","type","button",1,"btn","common-btn","mx-1"],[1,"bi","bi-plus"],[1,"container-fluid","mt-3"],[1,"row"],[1,"col-12"],[1,"list-table"],[1,"table","table-sm"],[1,"table-secondary"],["scope","row"],[1,"text-center"],[3,"parentListRefresh","pageNumber","pageSize","totalRows"],[1,"bi","bi-arrow-down"],[1,"bi","bi-arrow-up"],["type","button",1,"btn","common-btn","me-1",3,"routerLink"],[1,"bi","bi-pencil"],["colspan","8"]],template:function(d,n){d&1&&(t(0,"nav",0)(1,"div",1)(2,"div")(3,"a",2),r(4,"Dashboard / "),i(),t(5,"a",3),r(6,"Product"),i()(),t(7,"form",4)(8,"a",5),p(9,"i",6),r(10,"Add"),i()()()(),t(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"table",11)(16,"thead")(17,"tr",12)(18,"th",13),r(19,"Name "),u(20,Ee,3,1,"span"),i(),t(21,"th"),r(22,"Code"),i(),t(23,"th",13),r(24,"Created At "),u(25,Me,3,1,"span"),i(),t(26,"th",13),r(27,"Created By "),u(28,Fe,3,1,"span"),i(),t(29,"th",13),r(30,"Updated At "),u(31,ke,3,1,"span"),i(),t(32,"th",13),r(33,"Updated By "),u(34,Re,3,1,"span"),i(),t(35,"th",13),r(36,"Status "),u(37,Ue,3,1,"span"),i(),t(38,"th",13),r(39,"Actions"),i()()(),t(40,"tbody"),z(41,ze,18,9,"tr",null,ye),u(43,je,3,1,"tr",14),i()()()(),t(44,"div",9)(45,"app-table-footer",15),w("parentListRefresh",function(g){return n.changePageNumberAndSize(g)}),i()()()()),d&2&&(l(20),f(n.listDefaultParams.sortingColumn=="name"?20:-1),l(5),f(n.listDefaultParams.sortingColumn=="createdAt"?25:-1),l(3),f(n.listDefaultParams.sortingColumn=="createdBy"?28:-1),l(3),f(n.listDefaultParams.sortingColumn=="updatedAt"?31:-1),l(3),f(n.listDefaultParams.sortingColumn=="updatedBy"?34:-1),l(3),f(n.listDefaultParams.sortingColumn=="status"?37:-1),l(4),j(n.productArray),l(2),f(n.productArray.length==0?43:-1),l(2),_("pageNumber",n.listDefaultParams.pageNumber)("pageSize",n.listDefaultParams.pageSize)("totalRows",n.totalRows))},dependencies:[fe,L]});let e=o;return e})();var E=class{constructor(){this.id=0,this.name="",this.code=""}};var V=e=>({"is-invalid":e});function Oe(e,o){e&1&&p(0,"img",16)}function Qe(e,o){if(e&1&&p(0,"img",17),e&2){let m=C();Q("src",m.productData.thumbnail,U)}}function Ze(e,o){e&1&&(t(0,"small",24),r(1," Model Field is required. "),i())}function Ge(e,o){e&1&&(t(0,"small",24),r(1," Status Field is required. "),i())}var R=(()=>{let o=class o{constructor(a,d,n,c,g,s,k){this.productService=a,this.commonService=d,this.route=n,this.router=c,this.productStatusService=g,this.lookupService=s,this.dataTransferService=k,this.productData=new E,this.isFormSubmit=!1,this.statusList=[],this.modelList=[],this.productId=0}ngOnInit(){this.modelListLookup();let a=this.route.snapshot.paramMap.get("id");a&&(this.productId=Number(a),this.getProductData(this.productId)),this.statusList=this.productStatusService.list()}ngAfterViewInit(){this.dataTransferService.pageSetForDynamicDataEdit(!0),this.dynamicDataEdit.fetchDynamicFields("Product",this.productId)}getProductData(a){this.isFormSubmit=!1,this.productService.get(a).subscribe({next:d=>{d!=null?d.success&&(d.response!=0?this.productData=d.response:this.productData=new E):this.commonService.errorMessage(d.message)}})}productDataUpdate(a){var d=this.dynamicDataEdit.getDynamicFieldsValue();this.productData!=null&&(this.isFormSubmit=!0,this.productData.dynamicFieldsJson=d,this.productService.addOrUpdate(this.productData).subscribe({next:n=>{n!=null?n.success&&(this.commonService.successMessage(n.message),this.productData=new E,a&&this.router.navigate(["product"])):this.commonService.errorMessage(n.message)}}))}backTolListPage(){this.router.navigate(["product"])}modelListLookup(){this.lookupService.dropdown("productSeries").subscribe({next:a=>{a!=null?a.success&&(this.modelList=a.response):this.commonService.errorMessage(a.message)}})}};o.\u0275fac=function(d){return new(d||o)(h(N),h(F),h($),h(ee),h(_e),h(pe),h(he))},o.\u0275cmp=M({type:o,selectors:[["app-stories-edit"]],viewQuery:function(d,n){if(d&1&&G(B,5),d&2){let c;J(c=H())&&(n.dynamicDataEdit=c.first)}},standalone:!0,features:[I],decls:74,vars:25,consts:[["f","ngForm"],["thumbnail","ngModel"],["name","ngModel"],["code","ngModel"],["basePrice","ngModel"],["seriesId","ngModel"],["statusId","ngModel"],[1,"navbar","bg-body-tertiary","shadow-sm"],[1,"container-fluid"],["routerLink","/product",1,""],[1,"text-muted","text-decoration-none"],[1,"container-fluid","mt-3"],["novalidate","",3,"ngSubmit"],[1,"common-header","mb-2"],[1,"row"],[1,"col-md-4"],["src","assets/dummy-img.png",1,"img-fluid","img-avatar"],[1,"img-fluid","img-avatar",3,"src"],["type","text","id","thumbnail","placeholder","Enter Image URL","name","thumbnail","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],[1,"invalid-feedback"],[1,"col-md-8"],[1,"row","g-3"],[1,"col-12","col-md-4"],["for","txtName",1,"form-label"],[1,"text-danger"],["type","text","id","txtName","placeholder","Name","name","name","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],["type","text","id","txtName","placeholder","Name","name","code","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],["for","BasePrice",1,"form-label"],["type","text","id","BasePrice","placeholder","Base Price","name","basePrice","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],[1,"col-lg-3","col-sm-12","col-md-6","col-12"],["for","itemTypeId",1,"form-label"],["bindLabel","name","bindValue","id","placeholder","Choose Model","name","seriesId",3,"ngModelChange","items","ngModel"],["bindLabel","name","bindValue","id","placeholder","Choose Status","name","statusId",3,"ngModelChange","items","ngModel"],[1,"mt-4"],[1,"my-3"],["type","button",1,"btn","btn-sm","btn-outline-danger","me-1",3,"click","disabled"],["type","submit",1,"btn","btn-sm","common-btn-width-outline",3,"disabled"]],template:function(d,n){if(d&1){let c=O();t(0,"nav",7)(1,"div",8)(2,"div")(3,"a",9),r(4,"Product / "),i(),t(5,"a",10),r(6,"Edit"),i()()()(),t(7,"div",11)(8,"form",12,0),w("ngSubmit",function(){S(c);let s=P(9);return v(s.form.valid&&n.productDataUpdate(!0))}),t(10,"div",13),r(11," Basic Field "),i(),t(12,"div",14)(13,"div",15),u(14,Oe,1,0,"img",16)(15,Qe,1,1,"img",17),t(16,"input",18,1),D("ngModelChange",function(s){return S(c),x(n.productData.thumbnail,s)||(n.productData.thumbnail=s),v(s)}),i(),t(18,"div",19),r(19," Thumbnail Img is required. "),i()(),t(20,"div",20)(21,"div",21)(22,"div",22)(23,"label",23),r(24,"Name "),t(25,"span",24),r(26,"*"),i()(),t(27,"input",25,2),D("ngModelChange",function(s){return S(c),x(n.productData.name,s)||(n.productData.name=s),v(s)}),i(),t(29,"div",19),r(30," Name is required. "),i()(),t(31,"div",22)(32,"label",23),r(33,"Code "),t(34,"span",24),r(35,"*"),i()(),t(36,"input",26,3),D("ngModelChange",function(s){return S(c),x(n.productData.code,s)||(n.productData.code=s),v(s)}),i(),t(38,"div",19),r(39," Code is required. "),i()(),t(40,"div",22)(41,"label",27),r(42,"Base Price "),t(43,"span",24),r(44,"*"),i()(),t(45,"input",28,4),D("ngModelChange",function(s){return S(c),x(n.productData.basePrice,s)||(n.productData.basePrice=s),v(s)}),i(),t(47,"div",19),r(48," Base Price is required. "),i()(),t(49,"div",29)(50,"label",30),r(51,"Model "),t(52,"span",24),r(53,"*"),i()(),t(54,"ng-select",31,5),D("ngModelChange",function(s){return S(c),x(n.productData.seriesId,s)||(n.productData.seriesId=s),v(s)}),i(),u(56,Ze,2,0,"small",24),i(),t(57,"div",29)(58,"label",30),r(59,"Status "),t(60,"span",24),r(61,"*"),i()(),t(62,"ng-select",32,6),D("ngModelChange",function(s){return S(c),x(n.productData.statusId,s)||(n.productData.statusId=s),v(s)}),i(),u(64,Ge,2,0,"small",24),i()()()(),t(65,"div",33)(66,"div",13),r(67," Advanced Field "),i(),p(68,"app-dynamic-field-data"),i(),t(69,"div",34)(70,"button",35),w("click",function(){return S(c),v(n.backTolListPage())}),r(71,"Cancel"),i(),t(72,"button",36),r(73,"Save & Exit"),i()()()()}if(d&2){let c=P(9),g=P(17),s=P(28),k=P(37),be=P(46);l(14),f(n.productData.thumbnail==null?14:15),l(2),y("ngModel",n.productData.thumbnail),_("ngClass",T(17,V,c.submitted&&g.errors)),l(11),y("ngModel",n.productData.name),_("ngClass",T(19,V,c.submitted&&s.errors)),l(9),y("ngModel",n.productData.code),_("ngClass",T(21,V,c.submitted&&k.errors)),l(9),y("ngModel",n.productData.basePrice),_("ngClass",T(23,V,c.submitted&&be.errors)),l(9),_("items",n.modelList),y("ngModel",n.productData.seriesId),l(2),f(n.productData.seriesId==0||n.productData.seriesId==null?56:-1),l(6),_("items",n.statusList),y("ngModel",n.productData.statusId),l(2),f(n.productData.statusId==0||n.productData.statusId==null?64:-1),l(6),_("disabled",!c.valid),l(2),_("disabled",!c.valid)}},dependencies:[me,de,ne,ae,oe,se,le,re,L,Y,X,ge,B]});let e=o;return e})();var St=[{path:"",component:ve},{path:"edit/:id",component:R},{path:"new",component:R}];export{St as PRODUCT_ROUTES};
