import{a as re}from"./chunk-D42AVTVB.js";import"./chunk-WIQ76MVE.js";import"./chunk-TX4RGXHY.js";import"./chunk-L32G27ZM.js";import{a as Y,c as H,d as D}from"./chunk-SOWNCCG4.js";import{a as ne}from"./chunk-KSLAI2AB.js";import{b as J,m as M}from"./chunk-DYQSPWX7.js";import{$a as o,$b as z,Aa as c,Ac as $,Ba as u,Bb as w,Bc as ee,Cc as te,Db as T,Ic as ie,Ka as R,Mc as oe,Oa as x,Pa as B,Qa as y,T as V,Wa as _,Y as N,Ya as O,Za as W,_a as i,ab as h,ba as b,eb as E,fc as G,gb as C,hb as S,ja as g,ka as f,kb as q,lb as P,rb as k,sb as r,tb as v,ub as Z,vc as K,xa as j,xb as I,yb as F,yc as Q,zb as U,zc as X}from"./chunk-FCI7FGJ6.js";import"./chunk-WWX6BADO.js";var A=(()=>{let n=class n{constructor(e){this.apiService=e}list(){return this.apiService.apiCall("post","stock_categories/list")}get(e){return this.apiService.apiCall("get","stock_categories/"+e+"/edit")}addOrUpdate(e){var t="update";return e.id==""&&(t="create"),this.apiService.apiCall("post","stock_categories/"+t,e)}updateActiveFlag(e){return this.apiService.apiCall("post","stock_categories/flag/active/update",e)}};n.\u0275fac=function(t){return new(t||n)(N(J))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"});let a=n;return a})();var de=(a,n)=>n.id;function pe(a,n){if(a&1){let m=E();i(0,"tr")(1,"td"),r(2),o(),i(3,"td"),r(4),o(),i(5,"td"),r(6),o(),i(7,"td"),r(8),o(),i(9,"td"),r(10),o(),i(11,"td")(12,"div",15)(13,"input",16),C("click",function(t){let s=g(m).$implicit,l=S();return f(l.updateActiveFlagData(s.id,t))}),o()()(),i(14,"td")(15,"button",17),h(16,"i",18),o()()()}if(a&2){let m=n.$implicit;c(2),v(m.name),c(2),v(m.createdAt),c(2),v(m.createdBy),c(2),v(m.updatedAt),c(2),v(m.updatedBy),c(3),y("defaultChecked",!0),B("checked",m.isActive==1?!0:null),c(2),P("routerLink","./edit/",m.id,"")}}function ue(a,n){if(a&1&&(i(0,"tr",14)(1,"td",19),r(2),o()()),a&2){let m=S();c(2),Z("",m.listLoadingMessage," ")}}var ce=(()=>{let n=class n{constructor(e,t,s){this.stockCategoryService=e,this.commonService=t,this.timeZoneService=s,this.stockCateogryArray=[],this.loaderType=R(""),this.listLoadingMessage="Loading Data..."}ngOnInit(){this.stockCategoryList()}stockCategoryList(){this.loaderType.set("full"),this.stockCategoryService.list().subscribe({next:e=>{e!=null?e.success&&e.response.length>0&&(this.stockCateogryArray=e.response):this.commonService.errorMessage(e.message)}})}updateActiveFlagData(e,t){if(this.stockCateogryArray.length>0){for(var s=0;s<this.stockCateogryArray.length;s++)if(this.stockCateogryArray[s].id==e&&(this.stockCateogryArray[s].isActive=t.target.checked==!0?1:0,e!=null&&e!="")){var l={id:e,isActive:this.stockCateogryArray[s].isActive};this.stockCategoryService.updateActiveFlag(l).subscribe({next:d=>{d!=null?d.success&&this.commonService.successMessage(d.message):this.commonService.errorMessage(d.message)}})}}}displayDateInUserFormat(e){return this.timeZoneService.convertDateInUserFormat(e)}};n.\u0275fac=function(t){return new(t||n)(u(A),u(M),u(ne))},n.\u0275cmp=b({type:n,selectors:[["app-stock-category"]],standalone:!0,features:[w],decls:36,vars:1,consts:[[1,"navbar","bg-body-tertiary","shadow-sm"],[1,"container-fluid"],["routerLink","/dashboard",1,"text-decoration-none"],[1,"text-muted","text-decoration-none"],["role","button"],["routerLink","./new","type","button",1,"btn","common-btn","mx-1"],[1,"bi","bi-plus"],[1,"container-fluid","mt-3"],[1,"row"],[1,"col-12"],[1,"list-table"],[1,"table","table-sm"],[1,"table-secondary"],["scope","row"],[1,"text-center"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckChecked",1,"form-check-input",3,"click","defaultChecked"],["type","button",1,"btn","common-btn","me-1",3,"routerLink"],[1,"bi","bi-pencil"],["colspan","8"]],template:function(t,s){t&1&&(i(0,"nav",0)(1,"div",1)(2,"div")(3,"a",2),r(4,"Dashboard / "),o(),i(5,"a",3),r(6,"Stock Category"),o()(),i(7,"form",4)(8,"a",5),h(9,"i",6),r(10,"Add"),o()()()(),i(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"table",11)(16,"thead")(17,"tr",12)(18,"th",13),r(19,"Name"),o(),i(20,"th",13),r(21,"Created At"),o(),i(22,"th",13),r(23,"Created By"),o(),i(24,"th",13),r(25,"Updated At"),o(),i(26,"th",13),r(27,"Updated By"),o(),i(28,"th",13),r(29,"Status"),o(),i(30,"th",13),r(31,"Actions"),o()()(),i(32,"tbody"),O(33,pe,17,9,"tr",null,de),x(35,ue,3,1,"tr",14),o()()()()()()),t&2&&(c(33),W(s.stockCateogryArray),c(2),_(s.stockCateogryArray.length==0?35:-1))},dependencies:[D]});let a=n;return a})();var le=a=>({"is-invalid":a});function ge(a,n){a&1&&h(0,"img",11)}function fe(a,n){if(a&1&&h(0,"img",12),a&2){let m=S();q("src",m.stockCategoryData.thumbnailUrl,j)}}var L=(()=>{let n=class n{constructor(e,t,s,l,d){this.stockCategoryService=e,this.route=t,this.commonService=s,this.router=l,this.lookupService=d,this.stockCategoryData={id:0,name:"",thumbnailUrl:"",isActive:1},this.isFormSubmit=!1}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");if(e){let t=Number(e);this.getStockCategoryData(t)}}getStockCategoryData(e){this.isFormSubmit=!1,this.stockCategoryService.get(e).subscribe({next:t=>{t!=null?t.success&&t.response!=0&&(this.stockCategoryData=t.response):this.commonService.errorMessage(t.message)}})}stockCategoryDataUpdate(e){this.stockCategoryData!=null&&(this.isFormSubmit=!0,this.stockCategoryService.addOrUpdate(this.stockCategoryData).subscribe({next:t=>{t!=null?t.success&&(this.commonService.successMessage(t.message),e&&this.router.navigate(["stock-category"])):this.commonService.errorMessage(t.message)}}))}backTolListPage(){this.router.navigateByUrl("stock-category")}};n.\u0275fac=function(t){return new(t||n)(u(A),u(Y),u(M),u(H),u(re))},n.\u0275cmp=b({type:n,selectors:[["app-stock-catagory-edit"]],standalone:!0,features:[w],decls:32,vars:11,consts:[["f","ngForm"],["thumbnailUrl","ngModel"],["name","ngModel"],[1,"navbar","bg-body-tertiary","shadow-sm"],[1,"container-fluid"],["routerLink","/stock-category",1,"text-decoration-none"],[1,"text-muted","text-decoration-none"],[1,"container-fluid","mt-3"],["novalidate","",3,"ngSubmit"],[1,"row","my-3"],[1,"col-md-4"],["src","assets/dummy-img.png",1,"img-fluid","img-avatar"],[1,"img-fluid","img-avatar",3,"src"],["type","text","id","thumbnail","placeholder","Enter Image URL","name","thumbnailUrl","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],[1,"invalid-feedback"],[1,"col-12","col-md-4"],["for","name",1,"form-label","small"],[1,"text-danger"],["id","name","type","text","name","name","required","","placeholder","Name",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],[1,"my-3"],["type","button",1,"btn","btn-sm","btn-outline-danger","me-1",3,"click","disabled"],["type","submit",1,"btn","btn-sm","common-btn-width-outline",3,"disabled"]],template:function(t,s){if(t&1){let l=E();i(0,"nav",3)(1,"div",4)(2,"div")(3,"a",5),r(4,"Stock category / "),o(),i(5,"a",6),r(6,"Edit"),o()()()(),i(7,"div",7)(8,"form",8,0),C("ngSubmit",function(){g(l);let p=k(9);return f(p.form.valid&&s.stockCategoryDataUpdate(!0))}),i(10,"div",9)(11,"div",10),x(12,ge,1,0,"img",11)(13,fe,1,1,"img",12),i(14,"input",13,1),U("ngModelChange",function(p){return g(l),F(s.stockCategoryData.thumbnailUrl,p)||(s.stockCategoryData.thumbnailUrl=p),f(p)}),o(),i(16,"div",14),r(17," Thumbnail Img is required. "),o()(),i(18,"div",15)(19,"label",16),r(20,"Name "),i(21,"span",17),r(22,"*"),o()(),i(23,"input",18,2),U("ngModelChange",function(p){return g(l),F(s.stockCategoryData.name,p)||(s.stockCategoryData.name=p),f(p)}),o(),i(25,"div",14),r(26," Name field is required. "),o()()(),i(27,"div",19)(28,"button",20),C("click",function(){return g(l),f(s.backTolListPage())}),r(29,"Cancel"),o(),i(30,"button",21),r(31,"Save "),o()()()()}if(t&2){let l=k(9),d=k(15),p=k(24);c(12),_(s.stockCategoryData.thumbnailUrl==""||s.stockCategoryData.thumbnailUrl==null?12:13),c(2),I("ngModel",s.stockCategoryData.thumbnailUrl),y("ngClass",T(7,le,l.submitted&&d.errors)),c(9),I("ngModel",s.stockCategoryData.name),y("ngClass",T(9,le,l.submitted&&p.errors)),c(5),y("disabled",!l.valid),c(2),y("disabled",!l.valid)}},dependencies:[oe,te,K,Q,X,ie,ee,$,G,z,D]});let a=n;return a})();var Ne=[{path:"",component:ce},{path:"new",component:L},{path:"edit/:id",component:L}];export{Ne as INVENTORY_ROUTES};
