import{a as Dt}from"./chunk-VRZVJ2WA.js";import{a as Et}from"./chunk-D42AVTVB.js";import{a as Tt,b as Ft}from"./chunk-6UQRREJU.js";import{a as G}from"./chunk-WIQ76MVE.js";import{a as M}from"./chunk-KMBGROKD.js";import{a as y}from"./chunk-A4J2ZQI3.js";import{a as kt}from"./chunk-TX4RGXHY.js";import{a as It}from"./chunk-L32G27ZM.js";import{d as ht}from"./chunk-SOWNCCG4.js";import{a as yt}from"./chunk-KSLAI2AB.js";import{b as St,m as j}from"./chunk-DYQSPWX7.js";import{$a as s,$b as ut,Aa as l,Ac as W,Ba as S,Bb as V,Bc as q,Cc as z,Db as N,Fc as gt,Gc as xt,Hb as mt,Hc as bt,Ib as pt,Ic as wt,Ka as w,Mc as Q,Oa as _,Pa as st,Qa as g,T as at,Ua as ot,Wa as f,Y as J,Ya as L,Za as P,_a as a,ab as m,ba as F,bc as _t,dc as ft,eb as b,fc as R,gb as h,hb as d,ja as p,ka as u,kb as rt,lb as lt,ob as K,pa as A,pb as X,qb as Y,rb as D,sb as c,sc as O,tb as C,ub as ct,uc as Ct,vb as dt,vc as vt,xb as E,yb as I,yc as U,zb as k,zc as B}from"./chunk-FCI7FGJ6.js";import"./chunk-WWX6BADO.js";var T=class{constructor(){this.statesId="",this.statesName="",this.statesParentId=0,this.statesStatusId=1,this.statesIsActive=0,this.statesIsDelete=0,this.statesDeleteReason=""}};var Z=(()=>{let o=class o{constructor(t,e){this.ApiService=t,this.statusService=e}list(t){return this.ApiService.apiCall("post","state/list",t)}edit(t){return this.ApiService.apiCall("get","state/"+t+"/edit")}country(){return this.ApiService.apiCall("get","lookup/countries",null)}addOrUpdate(t){var e="update";return t.statesId==""&&(e="create"),this.ApiService.apiCall("post","state/"+e,t)}updateActiveFlag(t){return this.ApiService.apiCall("post","state/flag/active/update",t)}updateDeleteFlag(t){return this.ApiService.apiCall("post","state/flag/delete/update",t)}};o.\u0275fac=function(e){return new(e||o)(J(St),J(y))},o.\u0275prov=at({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();var Rt=(i,o)=>o.id,et=i=>({"is-invalid":i});function Ot(i,o){if(i&1&&(a(0,"option",26),c(1),s()),i&2){let n=o.$implicit;g("value",n.id),l(),C(n.name)}}function jt(i,o){if(i&1){let n=b();a(0,"div",20)(1,"label",30),c(2,"Reason For Delete "),a(3,"span",17),c(4,"*"),s()(),a(5,"textarea",31,3),k("ngModelChange",function(e){p(n);let r=d(3);return I(r.stateData.statesDeleteReason,e)||(r.stateData.statesDeleteReason=e),u(e)}),s(),a(7,"div",19),c(8," Reason field is required. "),s()()}if(i&2){let n=D(6);d();let t=D(2),e=d(2);l(5),E("ngModel",e.stateData.statesDeleteReason),g("ngClass",N(2,et,t.submitted&&n.errors&&e.stateData.statesIsDelete==1))}}function Ut(i,o){if(i&1){let n=b();a(0,"div")(1,"form",12,0),h("ngSubmit",function(){p(n);let e=D(2);return u(e.form.valid)}),a(3,"div",13)(4,"div",14)(5,"div",15)(6,"label",16),c(7,"Country "),a(8,"span",17),c(9,"*"),s()(),a(10,"app-dropdown",18),h("onChange",function(e){p(n);let r=d(2);return u(r.countryOnChange(e))}),s(),a(11,"div",19),c(12," Please select a valid country. "),s()(),a(13,"div",20)(14,"label",21),c(15,"State"),a(16,"span",17),c(17,"*"),s()(),a(18,"input",22,1),k("ngModelChange",function(e){p(n);let r=d(2);return I(r.stateData.statesName,e)||(r.stateData.statesName=e),u(e)}),s(),a(20,"div",19),c(21," Name field is required. "),s()(),a(22,"div",23)(23,"label",24),c(24,"Status "),a(25,"span",17),c(26,"*"),s()(),a(27,"select",25,2),k("ngModelChange",function(e){p(n);let r=d(2);return I(r.stateData.statesStatusId,e)||(r.stateData.statesStatusId=e),u(e)}),h("change",function(){p(n);let e=d(2);return u(e.onStatusChanged())}),L(29,Ot,2,2,"option",26,Rt),s(),a(31,"div",19),c(32," Status field is required. "),s()(),_(33,jt,9,4,"div",20),s()(),a(34,"div",27)(35,"button",28),h("click",function(){p(n);let e=d(2);return u(e.statesDataUpdate(!1))}),c(36,"Save"),s(),a(37,"button",29),h("click",function(){p(n);let e=d(2);return u(e.statesDataUpdate(!0))}),c(38,"Save & Exit"),s()()()()}if(i&2){let n=D(2),t=D(19),e=D(28),r=d(2);l(10),g("multiDropdown",!1)("items",r.lookupCountryList)("showSearch",!0)("showStatus",!0)("showError",r.lookupCountryError),l(8),E("ngModel",r.stateData.statesName),g("ngClass",N(12,et,n.submitted&&t.errors)),l(9),E("ngModel",r.stateData.statesStatusId),g("ngClass",N(14,et,n.submitted&&e.errors)),l(2),P(r.statusList),l(4),f(r.stateData.statesIsDelete?33:-1),l(2),g("disabled",!n.valid),l(2),g("disabled",!n.valid)}}function Bt(i,o){if(i&1){let n=b();a(0,"div",4)(1,"div",5)(2,"span",6),c(3,"States"),s(),a(4,"button",7),h("click",function(){p(n);let e=d();return u(e.closeCanvas())}),s()(),a(5,"div",8),_(6,Ut,39,16,"div",9),mt(7,"async"),m(8,"app-loader",10),s()(),m(9,"div",11)}if(i&2){let n=d();l(6),g("ngIf",!pt(7,2,n.loader.isLoading)&&n.loaderType()=="canvas"),l(2),g("loaderType",n.loaderType)}}var it=(()=>{let o=class o{constructor(t,e,r,v,x,H){this.stateService=t,this.statusService=e,this.commonService=r,this.canvasService=v,this.loader=x,this.lookupService=H,this.parentListRefresh=new A,this.stateData=new T,this.statusList=[],this.lookupCountryList=[],this.lookupStateList=[],this.isShowCanvas=!1,this.statesId="",this.isFormSubmit=!1,this.lookupCountryError=!1,this.loaderType=w("canvas")}ngOnInit(){this.lookupCountry("0")}resetStatus(){(this.stateData.statesStatusId==0||this.stateData.statesStatusId==null)&&(this.stateData.statesStatusId=this.statusService.defaultValue())}ChildDataEdit(t){this.stateData=new T,this.canvasService.canvasGetForMasterEdit.subscribe(e=>this.isShowCanvas=e),t!=""?(this.statusList=this.statusService.list(!0),this.resetStatus(),this.getStatesData(t)):(this.statusList=this.statusService.list(!1),this.resetStatus())}getStatesData(t){this.isFormSubmit=!1,this.stateService.edit(t).subscribe({next:e=>{e!=null?e.success&&(e.response.length>0?(this.stateData=e.response[0],this.stateData.statesStatusId=this.statusService.getIdByFlag(this.stateData.statesIsActive,this.stateData.statesIsDelete),this.lookupCountryList=this.lookupCountry(this.stateData.statesParentId?.toString())):this.stateData=new T):this.commonService.errorMessage(e.message)}})}statesDataUpdate(t){debugger;if(this.stateData!=null){debugger;this.onStatusChanged(),this.isFormSubmit=!0,this.stateService.addOrUpdate(this.stateData).subscribe({next:e=>{debugger;if(e!=null){debugger;if(e.success){this.commonService.successMessage(e.message);var r=this.stateData.statesParentId;this.stateData=new T,this.stateData.statesParentId=r,this.resetStatus(),t&&this.closeCanvas()}}else this.commonService.errorMessage(e.message)}})}}onStatusChanged(){var t=this.statusService.dataById(this.stateData.statesStatusId);this.stateData.statesIsActive=t.isActive,this.stateData.statesIsDelete=t.isDelete}closeCanvas(){this.canvasService.canvasSetForMasterEdit(!1),this.isFormSubmit?this.parentListRefresh.emit():this.eventFrom()=="view"&&this.canvasService.canvasSetForMasterView(!0)}countryOnChange(t){t.length>0&&(this.stateData.statesParentId=t[0].id)}lookupCountry(t){this.lookupService.get("countries",0,t).subscribe({next:e=>{e!=null?e.success&&(this.lookupCountryList=e.response):this.commonService.errorMessage(e.message)}})}};o.\u0275fac=function(e){return new(e||o)(S(Z),S(y),S(j),S(M),S(O),S(Et))},o.\u0275cmp=F({type:o,selectors:[["app-state-edit"]],inputs:{eventFrom:"eventFrom"},outputs:{parentListRefresh:"parentListRefresh"},standalone:!0,features:[V],decls:1,vars:1,consts:[["f","ngForm"],["statesName","ngModel"],["statesStatusId","ngModel"],["statesDeleteReason","ngModel"],["tabindex","-1","id","offcanvasRightStateEdit","aria-labelledby","offcanvasRightLabel","data-bs-backdrop","static",1,"offcanvas","offcanvas-end","show",2,"width","500px"],[1,"offcanvas-header","common-header"],[1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close",3,"click"],[1,"offcanvas-body","small"],[4,"ngIf"],[3,"loaderType"],[1,"offcanvas-backdrop","fade","show"],["novalidate","",3,"ngSubmit"],[1,"card"],[1,"row","card-body","g-3"],[1,"col-12"],["for","country",1,"form-label"],[1,"text-danger"],["placeholder","Select Country",3,"onChange","multiDropdown","items","showSearch","showStatus","showError"],[1,"invalid-feedback"],[1,"col-12","col-sm-12"],["for","txtName",1,"form-label"],["type","text","id","txtName","placeholder","State","name","statesName","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],[1,"col-md-12"],["for","ddStatus",1,"form-label"],["id","ddStatus","name","statesStatusId","required","",1,"form-select","form-select-sm",3,"ngModelChange","change","ngModel","ngClass"],[3,"value"],[1,"my-3"],["type","submit",1,"btn","common-btn","common-btn-width","me-1",3,"click","disabled"],["type","submit",1,"btn","btn-sm","common-btn-second","common-btn-width-outline",3,"click","disabled"],["for","txtReason",1,"form-label"],["id","txtReason","placeholder","Reason","name","statesDeleteReason","required","","rows","2",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"]],template:function(e,r){e&1&&_(0,Bt,10,4),e&2&&f(r.isShowCanvas?0:-1)},dependencies:[R,ut,_t,ft,Q,z,xt,bt,vt,gt,U,B,wt,q,W,G,Dt]});let i=o;return i})();function Wt(i,o){if(i&1){let n=b();a(0,"div",0)(1,"div",1)(2,"span",2),c(3,"States"),s(),a(4,"button",3),h("click",function(){p(n);let e=d();return u(e.closeCanvas())}),s()(),a(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"a",8),h("click",function(){p(n);let e=d();return u(e.editStates(e.statesObj.statesId))}),m(10,"i",9),c(11," Edit"),s()()(),a(12,"div",6)(13,"div",10)(14,"span",11),c(15,"Name"),s()(),a(16,"div",12)(17,"span"),c(18),s()()(),a(19,"div",6)(20,"div",10)(21,"span",11),c(22,"Country"),s()(),a(23,"div",12)(24,"span"),c(25),s()()(),a(26,"div",6)(27,"div",10)(28,"span",11),c(29,"Created At"),s()(),a(30,"div",12)(31,"span"),c(32),s()()(),a(33,"div",6)(34,"div",10)(35,"span",11),c(36,"Created By"),s()(),a(37,"div",12)(38,"span"),c(39),s()()(),a(40,"div",6)(41,"div",10)(42,"span",11),c(43,"Updated At"),s()(),a(44,"div",12)(45,"span"),c(46),s()()(),a(47,"div",6)(48,"div",10)(49,"span",11),c(50,"Updated By"),s()(),a(51,"div",12)(52,"span"),c(53),s()()(),a(54,"div",6)(55,"div",10)(56,"span",11),c(57,"Status"),s()(),a(58,"div",12)(59,"span"),c(60),s()()()()()(),m(61,"div",13)}if(i&2){let n=d();l(18),C(n.statesObj.statesName),l(7),C(n.statesObj.countriesName),l(7),C(n.statesObj.statesCreatedAt),l(7),C(n.statesObj.statesCreatedBy),l(7),C(n.statesObj.statesUpdatedAt),l(7),C(n.statesObj.statesUpdatedBy),l(6),ot("btn btn-",n.filteredStatusObj.css," btn-sm common-btn1"),l(),C(n.filteredStatusObj.name)}}var nt=(()=>{let o=class o{constructor(t,e){this.canvasService=t,this.statusService=e,this.editState=new A,this.statesObj={},this.filteredStatusObj={},this.isShowCanvas=!1}ngOnInit(){}closeCanvas(){this.canvasService.canvasSetForMasterView(!1)}setViewData(t){this.canvasService.canvasGetForMasterView.subscribe(r=>this.isShowCanvas=r),this.statesObj=t;var e=this.statusService.getIdByFlag(t.statesIsActive,0);this.filteredStatusObj=this.statusService.dataById(e)}editStates(t){this.canvasService.canvasSetForMasterView(!1),this.editState.emit(t)}};o.\u0275fac=function(e){return new(e||o)(S(M),S(y))},o.\u0275cmp=F({type:o,selectors:[["app-state-view"]],outputs:{editState:"editState"},standalone:!0,features:[V],decls:1,vars:1,consts:[["tabindex","-1","id","offcanvasRightStateView","aria-labelledby","offcanvasRightLabel","data-bs-backdrop","static",1,"offcanvas","offcanvas-end","show",2,"width","500px"],[1,"offcanvas-header","common-header"],[1,"offcanvas-title"],["type","button",1,"btn-close",3,"click"],[1,"offcanvas-body","small"],[1,"card-body","small"],[1,"row"],[1,"col-12","col-lg-12","text-end"],[1,"btn","common-btn",3,"click"],[1,"fa","fa-pencil"],[1,"col-12","col-lg-6"],[1,"fw-semibold"],[1,"col-12","col-lg-6","mb-2"],[1,"offcanvas-backdrop","fade","show"]],template:function(e,r){e&1&&_(0,Wt,62,10),e&2&&f(r.isShowCanvas?0:-1)}});let i=o;return i})();var qt=(i,o)=>o.statesId,zt=(i,o)=>o.name;function Qt(i,o){if(i&1){let n=b();a(0,"button",27),h("click",function(){p(n);let e=d(2);return u(e.openFilter())}),m(1,"i",28),s()}}function Gt(i,o){if(i&1){let n=b();a(0,"button",29),h("click",function(){p(n);let e=d(2);return u(e.openFilter())}),a(1,"i",28),m(2,"i",30),s()()}}function Zt(i,o){if(i&1&&(a(0,"span"),c(1),s()),i&2){let n=o.$implicit;l(),dt("",n.dispalyName," : ",n.dispalyValue," ")}}function Ht(i,o){if(i&1&&(a(0,"div",18),L(1,Zt,2,2,"span",null,zt),s()),i&2){let n=d(2);l(),P(n.listDefaultParams.filterConditions)}}function Jt(i,o){i&1&&m(0,"i",31)}function Kt(i,o){i&1&&m(0,"i",32)}function Xt(i,o){if(i&1&&(a(0,"span"),_(1,Jt,1,0,"i",31)(2,Kt,1,0,"i",32),s()),i&2){let n=d(2);l(),f(n.listDefaultParams.sortingType=="asc"?1:2)}}function Yt(i,o){i&1&&m(0,"i",31)}function $t(i,o){i&1&&m(0,"i",32)}function te(i,o){if(i&1&&(a(0,"span"),_(1,Yt,1,0,"i",31)(2,$t,1,0,"i",32),s()),i&2){let n=d(2);l(),f(n.listDefaultParams.sortingType=="asc"?1:2)}}function ee(i,o){i&1&&m(0,"i",31)}function ie(i,o){i&1&&m(0,"i",32)}function ne(i,o){if(i&1&&(a(0,"span"),_(1,ee,1,0,"i",31)(2,ie,1,0,"i",32),s()),i&2){let n=d(2);l(),f(n.listDefaultParams.sortingType=="asc"?1:2)}}function ae(i,o){i&1&&m(0,"i",31)}function se(i,o){i&1&&m(0,"i",32)}function oe(i,o){if(i&1&&(a(0,"span"),_(1,ae,1,0,"i",31)(2,se,1,0,"i",32),s()),i&2){let n=d(2);l(),f(n.listDefaultParams.sortingType=="asc"?1:2)}}function re(i,o){i&1&&m(0,"i",31)}function le(i,o){i&1&&m(0,"i",32)}function ce(i,o){if(i&1&&(a(0,"span"),_(1,re,1,0,"i",31)(2,le,1,0,"i",32),s()),i&2){let n=d(2);l(),f(n.listDefaultParams.sortingType=="asc"?1:2)}}function de(i,o){i&1&&m(0,"i",31)}function me(i,o){i&1&&m(0,"i",32)}function pe(i,o){if(i&1&&(a(0,"span"),_(1,de,1,0,"i",31)(2,me,1,0,"i",32),s()),i&2){let n=d(2);l(),f(n.listDefaultParams.sortingType=="asc"?1:2)}}function ue(i,o){i&1&&m(0,"i",31)}function _e(i,o){i&1&&m(0,"i",32)}function fe(i,o){if(i&1&&(a(0,"span"),_(1,ue,1,0,"i",31)(2,_e,1,0,"i",32),s()),i&2){let n=d(2);l(),f(n.listDefaultParams.sortingType=="asc"?1:2)}}function he(i,o){if(i&1){let n=b();a(0,"tr")(1,"td")(2,"div",22)(3,"input",33),k("ngModelChange",function(e){let r=p(n).$implicit;return I(r.isSelected,e)||(r.isSelected=e),u(e)}),h("change",function(){p(n);let e=d(2);return u(e.checkUncheckSingle())}),s()()(),a(4,"td"),c(5),s(),a(6,"td"),c(7),s(),a(8,"td"),c(9),s(),a(10,"td"),c(11),s(),a(12,"td"),c(13),s(),a(14,"td"),c(15),s(),a(16,"td")(17,"div",34)(18,"input",35),h("click",function(e){let r=p(n).$implicit,v=d(2);return u(v.updateActiveFlagData(r.statesId,e))}),s()()(),a(19,"td",36)(20,"button",37),h("click",function(){let e=p(n).$implicit,r=d(2);return u(r.addOrEditState(e.statesId))}),m(21,"i",38),s(),a(22,"button",37),h("click",function(){let e=p(n).$implicit,r=d(2);return u(r.viewState(e))}),m(23,"i",39),s()()()}if(i&2){let n=o.$implicit,t=d(2);l(3),rt("value",n.statesId),lt("id","ck-",n.statesId,""),E("ngModel",n.isSelected),l(2),C(n.statesName),l(2),C(n.countriesName),l(2),C(t.displayDateInUserFormat(n.statesCreatedAt)),l(2),C(n.statesCreatedBy),l(2),C(t.displayDateInUserFormat(n.statesUpdatedAt)),l(2),C(n.statesUpdatedBy),l(3),st("checked",n.statesIsActive==1?!0:null)}}function Se(i,o){if(i&1&&(a(0,"tr",25)(1,"td",40),c(2),s()()),i&2){let n=d(2);l(2),ct("",n.listLoadingMessage," ")}}function Ce(i,o){if(i&1){let n=b();a(0,"nav",4)(1,"div",5)(2,"div")(3,"a",6),c(4,"Dashboard / "),s(),a(5,"a",7),c(6,"State"),s()(),a(7,"form",8)(8,"a",9),m(9,"i",10),c(10," Export "),s(),a(11,"a",11),h("click",function(){p(n);let e=d();return u(e.addOrEditState(""))}),m(12,"i",12),c(13,"Add"),s(),a(14,"button",13),h("click",function(){p(n);let e=d();return u(e.openDeleteConfirmation())}),m(15,"i",14),s(),_(16,Qt,2,0,"button",9)(17,Gt,3,0,"button",15),s()()(),a(18,"div",16)(19,"div",17),_(20,Ht,3,0,"div",18),a(21,"div",18)(22,"div",19)(23,"table",20)(24,"thead")(25,"tr",21)(26,"th")(27,"div",22)(28,"input",23),k("ngModelChange",function(e){p(n);let r=d();return I(r.masterSelected,e)||(r.masterSelected=e),u(e)}),h("change",function(){p(n);let e=d();return u(e.checkUncheckAll())}),s()()(),a(29,"th",24),c(30,"Name "),_(31,Xt,3,1,"span"),s(),a(32,"th",24),c(33,"Country "),_(34,te,3,1,"span"),s(),a(35,"th",24),c(36,"Created At "),_(37,ne,3,1,"span"),s(),a(38,"th",24),c(39,"Created By "),_(40,oe,3,1,"span"),s(),a(41,"th",24),c(42,"Updated At "),_(43,ce,3,1,"span"),s(),a(44,"th",24),c(45,"Updated By "),_(46,pe,3,1,"span"),s(),a(47,"th",24),c(48,"Status "),_(49,fe,3,1,"span"),s(),a(50,"th",24),c(51,"Actions"),s()()(),a(52,"tbody"),L(53,he,24,11,"tr",null,qt),_(55,Se,3,1,"tr",25),s()()()(),a(56,"div",18)(57,"app-table-footer",26),h("parentListRefresh",function(e){p(n);let r=d();return u(r.changePageNumberAndSize(e))}),s()()()()}if(i&2){let n=d();l(16),f(n.isFilterSelected?17:16),l(4),f(n.listDefaultParams.filterConditions.length>0?20:-1),l(8),E("ngModel",n.masterSelected),l(3),f(n.listDefaultParams.sortingColumn=="name"?31:-1),l(3),f(n.listDefaultParams.sortingColumn=="country"?34:-1),l(3),f(n.listDefaultParams.sortingColumn=="createdAt"?37:-1),l(3),f(n.listDefaultParams.sortingColumn=="createdBy"?40:-1),l(3),f(n.listDefaultParams.sortingColumn=="updatedAt"?43:-1),l(3),f(n.listDefaultParams.sortingColumn=="updatedBy"?46:-1),l(3),f(n.listDefaultParams.sortingColumn=="status"?49:-1),l(4),P(n.stateArray),l(2),f(n.stateArray.length==0?55:-1),l(2),g("pageNumber",n.listDefaultParams.pageNumber)("pageSize",n.listDefaultParams.pageSize)("totalRows",n.totalRows)}}function ve(i,o){i&1&&m(0,"app-loader")}var Lt=(()=>{let o=class o{constructor(t,e,r,v,x,H){this.stateService=t,this.commonService=e,this.statusService=r,this.loaderService=v,this.canvasService=x,this.timeZoneService=H,this.listDefaultParams=new It,this.stateArray=[],this.checkedList=[],this.eventFrom=w(""),this.loaderType=w(""),this.source=w("state"),this.isPopupShow=w(!1),this.isShowFilter=w(!1),this.isEditCanvasShow=!1,this.isFilterSelected=!1,this.masterSelected=!1,this.showParentPageLoader=!0,this.listLoadingMessage="Loading Data...",this.totalRows=0}ngOnInit(){this.statesList()}statesList(){this.loaderType.set("full"),this.stateService.list(this.listDefaultParams).subscribe({next:t=>{t!=null?t.success&&(this.stateArray=t.response,this.listLoadingMessage="",this.totalRows=t.totalRows,this.listDefaultParams.pageNumber=t.pageNumber,this.listDefaultParams.pageSize=t.pageSize):(this.commonService.errorMessage(t.message),this.listLoadingMessage=t.message),this.showParentPageLoader=!1}})}editStateFromView(t){this.eventFrom.set("view"),this.addOrEditState(t)}addOrEditState(t){this.eventFrom.set("edit"),this.loaderType.set("canvas"),this.canvasService.canvasSetForMasterEdit(!0),this.stateEdit.ChildDataEdit(t)}viewState(t){this.canvasService.canvasSetForMasterView(!0),this.stateView.setViewData(t)}checkUncheckAll(){debugger;for(var t=0;t<this.stateArray.length;t++)this.stateArray[t].isSelected=this.masterSelected;this.getCheckedItemList()}checkUncheckSingle(){this.masterSelected=this.stateArray.every(function(t){return t.isSelected==!0}),this.getCheckedItemList()}getCheckedItemList(){this.checkedList=[];for(var t=0;t<this.stateArray.length;t++)this.stateArray[t].isSelected&&this.checkedList.push(this.stateArray[t].statesId)}updateActiveFlagData(t,e){if(this.stateArray.length>0){for(var r=0;r<this.stateArray.length;r++)if(this.stateArray[r].statesId==t&&(this.stateArray[r].statesIsActive=e.target.checked==!0?1:0,t!=null&&t!="")){var v={statesId:t,statesIsActive:this.stateArray[r].statesIsActive};this.stateService.updateActiveFlag(v).subscribe({next:x=>{x!=null?x.success&&this.commonService.successMessage(x.message):this.commonService.errorMessage(x.message)}})}}}openDeleteConfirmation(){if(this.checkedList.length>0){if(this.checkedList.length>50){this.commonService.warningMessage("delete-limit-crossed");return}this.isPopupShow=w(!0)}else this.commonService.warningMessage("choose-record-for-delete")}openFilter(){this.isShowFilter=w(!0)}updateDeleteFlagData(t){if(this.checkedList.length>0){var e={statesId:this.checkedList.toString(),statesDeleteReason:t};t!=null&&t?.trim()?(this.loaderType.set("full"),this.stateService.updateDeleteFlag(e).subscribe({next:r=>{r!=null?r.success&&(this.commonService.successMessage(r.message),this.statesList()):this.commonService.errorMessage(r.message)}})):this.commonService.warningMessage("delete-reason-field-required")}else this.commonService.warningMessage("choose-record-for-delete")}displayDateInUserFormat(t){return this.timeZoneService.convertDateInUserFormat(t)}changePageNumberAndSize(t){this.listDefaultParams.pageNumber=t.pageNumber,this.listDefaultParams.pageSize=t.pageSize,this.statesList()}filterList(t){this.listDefaultParams.pageNumber=1,this.listDefaultParams.pageSize=10,this.listDefaultParams.filterConditions=t.filterConditions,this.listDefaultParams.sortingConditions=t.sortingConditions,this.listDefaultParams.sortingColumn=t.sortingColumn,this.listDefaultParams.sortingType=t.sortingType,this.listDefaultParams.filterConditions.length>0||this.listDefaultParams.sortingConditions.indexOf("name asc")<0||this.listDefaultParams.sortingConditions==""?this.isFilterSelected=!0:this.isFilterSelected=!1,this.statesList()}listRefreshAfterEdit(){this.statesList()}};o.\u0275fac=function(e){return new(e||o)(S(Z),S(j),S(y),S(O),S(M),S(yt))},o.\u0275cmp=F({type:o,selectors:[["app-state"]],viewQuery:function(e,r){if(e&1&&(K(it,5),K(nt,5)),e&2){let v;X(v=Y())&&(r.stateEdit=v.first),X(v=Y())&&(r.stateView=v.first)}},standalone:!0,features:[V],decls:6,vars:7,consts:[[3,"parenteDeleteFlagData","isPopupShow"],[3,"parentListRefresh","eventFrom"],[3,"editState"],[3,"parentListRefresh","isShowFilter","source","listFilterObj"],[1,"navbar","bg-body-tertiary","shadow-sm"],[1,"container-fluid"],["routerLink","/dashboard",1,"text-decoration-none"],[1,"text-muted","text-decoration-none"],["role","button"],[1,"btn","common-btn"],[1,"bi","bi-box-arrow-up"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasRightPositionEdit","aria-controls","offcanvasRight",1,"btn","common-btn","mx-1",3,"click"],[1,"bi","bi-plus"],[1,"btn","common-btn","me-1",3,"click"],[1,"bi","bi-trash3"],[1,"btn","btn-success","common-btn"],[1,"container-fluid","mt-3"],[1,"row"],[1,"col-12"],[1,"list-table"],[1,"table","table-sm"],[1,"table-secondary"],[1,"form-check"],["type","checkbox","value","all","id","ck-all",1,"form-check-input","mt-2",3,"ngModelChange","change","ngModel"],["scope","row"],[1,"text-center"],[3,"parentListRefresh","pageNumber","pageSize","totalRows"],[1,"btn","common-btn",3,"click"],[1,"bi","bi-funnel"],[1,"btn","btn-success","common-btn",3,"click"],[1,"bi","bi-check2-all"],[1,"bi","bi-arrow-down"],[1,"bi","bi-arrow-up"],["type","checkbox",1,"form-check-input",3,"ngModelChange","change","ngModel","value","id"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckChecked",1,"form-check-input",3,"click"],[1,"d-flex"],["type","button",1,"btn","common-btn","me-1",3,"click"],[1,"bi","bi-pencil"],[1,"bi","bi-eye"],["colspan","8"]],template:function(e,r){e&1&&(_(0,Ce,58,14)(1,ve,1,0,"app-loader"),a(2,"app-delete-confirmation-popup",0),h("parenteDeleteFlagData",function(x){return r.updateDeleteFlagData(x)}),s(),a(3,"app-state-edit",1),h("parentListRefresh",function(){return r.listRefreshAfterEdit()}),s(),a(4,"app-state-view",2),h("editState",function(x){return r.editStateFromView(x)}),s(),a(5,"app-filter-master",3),h("parentListRefresh",function(x){return r.filterList(x)}),s()),e&2&&(f(r.showParentPageLoader?-1:0),l(),f(r.showParentPageLoader?1:-1),l(),g("isPopupShow",r.isPopupShow),l(),g("eventFrom",r.eventFrom),l(2),g("isShowFilter",r.isShowFilter)("source",r.source)("listFilterObj",r.listDefaultParams))},dependencies:[ht,it,nt,R,Q,z,Ct,U,B,q,W,kt,G,Tt,Ft]});let i=o;return i})();var ti=[{path:"",component:Lt}];export{ti as STATE_ROUTES};
