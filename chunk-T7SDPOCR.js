import{a as de}from"./chunk-QJUVNZXF.js";import{a as re}from"./chunk-D42AVTVB.js";import{a as se}from"./chunk-TX4RGXHY.js";import{a as ae}from"./chunk-L32G27ZM.js";import{a as H,c as J,d as I}from"./chunk-SOWNCCG4.js";import{a as oe}from"./chunk-KSLAI2AB.js";import{b as K,m as x}from"./chunk-DYQSPWX7.js";import{$a as i,$b as Z,Aa as l,Ac as $,Ba as h,Bb as V,Bc as ee,Cc as te,Db as C,Ic as ie,Ka as W,Mc as ne,Oa as A,Qa as p,T,Wa as R,Y as F,Ya as B,Za as z,_a as t,ab as L,ba as E,eb as U,fc as G,gb as w,hb as q,ja as u,ka as g,lb as O,rb as f,sb as a,tb as D,ub as j,vc as Q,xb as S,yb as y,yc as X,zb as b,zc as Y}from"./chunk-FCI7FGJ6.js";import"./chunk-WWX6BADO.js";var N=(()=>{let s=class s{constructor(e){this.apiService=e}list(e){return this.apiService.apiCall("post","vendor/list",e)}get(e){return this.apiService.apiCall("get","vendor/"+e+"/edit")}addOrUpdate(e){var o="update";return e.id==""&&(o="create"),this.apiService.apiCall("post","vendor/"+o,e)}};s.\u0275fac=function(o){return new(o||s)(F(K))},s.\u0275prov=T({token:s,factory:s.\u0275fac,providedIn:"root"});let m=s;return m})();var ve=(m,s)=>s.id;function Se(m,s){if(m&1&&(t(0,"tr")(1,"td"),a(2),i(),t(3,"td"),a(4),i(),t(5,"td"),a(6),i(),t(7,"td"),a(8),i(),t(9,"td"),a(10),i(),t(11,"td"),a(12),i(),t(13,"td")(14,"div",15),L(15,"input",16),i()(),t(16,"td")(17,"button",17),L(18,"i",18),i()()()),m&2){let v=s.$implicit;l(2),D(v.name),l(2),D(v.cityName),l(2),D(v.createdAt),l(2),D(v.createdBy),l(2),D(v.updatedAt),l(2),D(v.updatedBy),l(5),O("routerLink","edit/",v.id,"")}}function ye(m,s){if(m&1&&(t(0,"tr",13)(1,"td",19),a(2),i()()),m&2){let v=q();l(2),j("",v.listLoadingMessage," ")}}var ce=(()=>{let s=class s{constructor(e,o,n){this.vendorService=e,this.commonService=o,this.timeZoneService=n,this.listDefaultParams=new ae,this.vendorListArray=[],this.listLoadingMessage="Loading Data...",this.totalRows=0,this.showParentPageLoader=!0,this.loaderType=W(""),this.isFilterSelected=!1}ngOnInit(){this.vendorList()}vendorList(){this.loaderType.set("full"),this.vendorService.list(this.listDefaultParams).subscribe({next:e=>{e!=null?e.success&&e.response.length>0&&(this.vendorListArray=e.response,this.listLoadingMessage="",this.totalRows=e.totalRows,this.listDefaultParams.pageNumber=e.pageNumber,this.listDefaultParams.pageSize=e.pageSize):(this.commonService.errorMessage(e.message),this.listLoadingMessage=e.message),this.showParentPageLoader=!1}})}displayDateInUserFormat(e){return this.timeZoneService.convertDateInUserFormat(e)}changePageNumberAndSize(e){this.listDefaultParams.pageNumber=e.pageNumber,this.listDefaultParams.pageSize=e.pageSize,this.vendorList()}filterList(e){this.listDefaultParams.pageNumber=1,this.listDefaultParams.pageSize=10,this.listDefaultParams.filterConditions=e.filterConditions,this.listDefaultParams.sortingConditions=e.sortingConditions,this.listDefaultParams.sortingColumn=e.sortingColumn,this.listDefaultParams.sortingType=e.sortingType,this.listDefaultParams.filterConditions.length>0||this.listDefaultParams.sortingConditions.indexOf("name asc")<0||this.listDefaultParams.sortingConditions==""?this.isFilterSelected=!0:this.isFilterSelected=!1,this.vendorList()}};s.\u0275fac=function(o){return new(o||s)(h(N),h(x),h(oe))},s.\u0275cmp=E({type:s,selectors:[["app-vendor"]],standalone:!0,features:[V],decls:40,vars:4,consts:[[1,"navbar","bg-body-tertiary","shadow-sm"],[1,"container-fluid"],["routerLink","/dashboard",1,"text-decoration-none"],[1,"text-muted"],["role","button"],["routerLink","./new","type","button",1,"btn","common-btn","mx-1"],[1,"bi","bi-plus"],[1,"container-fluid","mt-3"],[1,"row"],[1,"col-12"],[1,"list-table"],[1,"table","table-sm"],[1,"table-secondary"],[1,"text-center"],[3,"parentListRefresh","pageNumber","pageSize","totalRows"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckChecked",1,"form-check-input"],["type","button",1,"btn","common-btn","me-1",3,"routerLink"],[1,"bi","bi-pencil"],["colspan","8"]],template:function(o,n){o&1&&(t(0,"nav",0)(1,"div",1)(2,"div")(3,"a",2),a(4,"Dashboard / "),i(),t(5,"a",3),a(6,"Vendor List"),i()(),t(7,"form",4)(8,"a",5),L(9,"i",6),a(10,"Add"),i()()()(),t(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"table",11)(16,"thead")(17,"tr",12)(18,"th"),a(19,"Name"),i(),t(20,"th"),a(21,"City"),i(),t(22,"th"),a(23,"Created At"),i(),t(24,"th"),a(25,"Created By"),i(),t(26,"th"),a(27,"Updated At"),i(),t(28,"th"),a(29,"Updated By"),i(),t(30,"th"),a(31,"Status"),i(),t(32,"th"),a(33,"Actions"),i()()(),t(34,"tbody"),B(35,Se,19,8,"tr",null,ve),A(37,ye,3,1,"tr",13),i()()()(),t(38,"div",9)(39,"app-table-footer",14),w("parentListRefresh",function(c){return n.changePageNumberAndSize(c)}),i()()()()),o&2&&(l(35),z(n.vendorListArray),l(2),R(n.vendorListArray.length==0?37:-1),l(2),p("pageNumber",n.listDefaultParams.pageNumber)("pageSize",n.listDefaultParams.pageSize)("totalRows",n.totalRows))},dependencies:[se,I]});let m=s;return m})();var M=class{constructor(){this.id=0,this.name="",this.email="",this.phoneNo="",this.address="",this.location=""}};var _=m=>({"is-invalid":m}),P=(()=>{let s=class s{constructor(e,o,n,d,c){this.vendorService=e,this.route=o,this.commonService=n,this.router=d,this.lookupService=c,this.vendorData=new M,this.isFormSubmit=!1,this.countryList=[],this.stateList=[],this.cityList=[]}ngOnInit(){this.countryLookup();let e=this.route.snapshot.paramMap.get("id");e&&this.getPageData(Number(e))}getPageData(e){this.isFormSubmit=!1,this.vendorService.get(e).subscribe({next:o=>{o!=null?o.success&&(o.response!=0?(this.vendorData=o.response,this.vendorData.countryId>0&&this.stateLookup(this.vendorData.countryId),this.vendorData.stateId>0&&this.cityLookup(this.vendorData.stateId)):this.vendorData=new M):this.commonService.errorMessage(o.message)}})}vendorDataUpdate(e){this.vendorData!=null&&(this.isFormSubmit=!0,this.vendorService.addOrUpdate(this.vendorData).subscribe({next:o=>{o!=null?o.success&&(this.commonService.successMessage(o.message),this.vendorData=new M,e&&this.router.navigate(["vendor"])):this.commonService.errorMessage(o.message)}}))}backTolListPage(){this.router.navigate(["vendor"])}countryLookup(){this.lookupService.dropdown("countries").subscribe({next:e=>{e!=null?e.success&&(this.countryList=e.response):this.commonService.errorMessage(e.message)}})}onCountryChange(e){e.id>0&&(this.vendorData.countryId=e.id,this.stateLookup(this.vendorData.countryId))}stateLookup(e){this.lookupService.dropdownCascade("states",e?.toString()).subscribe({next:o=>{o!=null?o.success&&(this.stateList=o.response):this.commonService.errorMessage(o.message)}})}onStateChange(e){e.id>0&&(this.vendorData.stateId=e.id,this.cityLookup(this.vendorData.stateId))}cityLookup(e){this.lookupService.dropdownCascade("cities",e?.toString()).subscribe({next:o=>{o!=null?o.success&&(this.cityList=o.response):this.commonService.errorMessage(o.message)}})}};s.\u0275fac=function(o){return new(o||s)(h(N),h(H),h(x),h(J),h(re))},s.\u0275cmp=E({type:s,selectors:[["app-vendor-edit"]],standalone:!0,features:[V],decls:70,vars:37,consts:[["f","ngForm"],["name","ngModel"],["email","ngModel"],["phoneNo","ngModel"],["countryId","ngModel"],["stateId","ngModel"],["cityId","ngModel"],["address","ngModel"],["location","ngModel"],[1,"navbar","bg-body-tertiary","shadow-sm"],[1,"container-fluid"],["routerLink","/vendor",1,"text-decoration-none"],[1,"text-muted"],[1,"container-fluid","mt-3"],["novalidate","",3,"ngSubmit"],[1,"row","g-3"],[1,"col-12","col-md-4"],["for","txtName",1,"form-label"],[1,"text-danger"],["type","text","id","txtName","placeholder","Title","name","name","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],[1,"invalid-feedback"],["for","email",1,"form-label"],["type","email","id","email","placeholder","Email","name","email","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],[1,"col-12","col-md-12"],["for","phoneNo",1,"form-label"],["type","text","id","phoneNo","placeholder","phone No.","name","phoneNo","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],["for","Country",1,"form-label"],["name","countryId","bindLabel","name","bindValue","id","placeholder","Choose Country",3,"change","ngModelChange","items","ngModel","ngClass"],["for","State",1,"form-label"],["name","stateId","bindLabel","name","bindValue","id","placeholder","Choose State",3,"change","ngModelChange","items","ngModel","ngClass"],["for","City",1,"form-label"],["name","cityId","bindLabel","name","bindValue","id","placeholder","Choose State",3,"ngModelChange","items","ngModel","ngClass"],["for","address",1,"form-label"],["id","address","name","address","rows","3","placeholder","Address",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["for","location",1,"form-label"],["type","text","id","location","placeholder","location No.","name","location","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],[1,"my-3"],["type","submit",1,"btn","btn-sm","btn-outline-danger","me-1",3,"click","disabled"],["type","submit",1,"btn","btn-sm","common-btn-width-outline",3,"disabled"]],template:function(o,n){if(o&1){let d=U();t(0,"nav",9)(1,"div",10)(2,"div")(3,"a",11),a(4,"Vendor / "),i(),t(5,"a",12),a(6,"Edit"),i()()()(),t(7,"div",13)(8,"form",14,0),w("ngSubmit",function(){u(d);let r=f(9);return g(r.form.valid&&n.vendorDataUpdate(!0))}),t(10,"div",15)(11,"div",16)(12,"label",17),a(13,"Name "),t(14,"span",18),a(15,"*"),i()(),t(16,"input",19,1),b("ngModelChange",function(r){return u(d),y(n.vendorData.name,r)||(n.vendorData.name=r),g(r)}),i(),t(18,"div",20),a(19," Name field is required. "),i()(),t(20,"div",16)(21,"label",21),a(22,"Email "),t(23,"span",18),a(24,"*"),i()(),t(25,"input",22,2),b("ngModelChange",function(r){return u(d),y(n.vendorData.email,r)||(n.vendorData.email=r),g(r)}),i(),t(27,"div",20),a(28," Name field is required. "),i()(),t(29,"div",23)(30,"label",24),a(31,"Phone No."),i(),t(32,"input",25,3),b("ngModelChange",function(r){return u(d),y(n.vendorData.phoneNo,r)||(n.vendorData.phoneNo=r),g(r)}),i()(),t(34,"div",16)(35,"label",26),a(36,"Country "),t(37,"span",18),a(38,"*"),i()(),t(39,"ng-select",27,4),w("change",function(r){return u(d),g(n.onCountryChange(r))}),b("ngModelChange",function(r){return u(d),y(n.vendorData.countryId,r)||(n.vendorData.countryId=r),g(r)}),i()(),t(41,"div",16)(42,"label",28),a(43,"State "),t(44,"span",18),a(45,"*"),i()(),t(46,"ng-select",29,5),w("change",function(r){return u(d),g(n.onStateChange(r))}),b("ngModelChange",function(r){return u(d),y(n.vendorData.stateId,r)||(n.vendorData.stateId=r),g(r)}),i()(),t(48,"div",16)(49,"label",30),a(50,"City "),t(51,"span",18),a(52,"*"),i()(),t(53,"ng-select",31,6),b("ngModelChange",function(r){return u(d),y(n.vendorData.cityId,r)||(n.vendorData.cityId=r),g(r)}),i()(),t(55,"div",23)(56,"label",32),a(57,"Address"),i(),t(58,"textarea",33,7),b("ngModelChange",function(r){return u(d),y(n.vendorData.address,r)||(n.vendorData.address=r),g(r)}),i()(),t(60,"div",23)(61,"label",34),a(62,"Location"),i(),t(63,"input",35,8),b("ngModelChange",function(r){return u(d),y(n.vendorData.location,r)||(n.vendorData.location=r),g(r)}),i()()(),t(65,"div",36)(66,"button",37),w("click",function(){return u(d),g(n.backTolListPage())}),a(67,"Cancel"),i(),t(68,"button",38),a(69,"Save & Exit"),i()()()()}if(o&2){let d=f(9),c=f(17),r=f(26),k=f(33),pe=f(40),ue=f(47),ge=f(54),he=f(64);l(16),S("ngModel",n.vendorData.name),p("ngClass",C(21,_,d.submitted&&c.errors)),l(9),S("ngModel",n.vendorData.email),p("ngClass",C(23,_,d.submitted&&r.errors)),l(7),S("ngModel",n.vendorData.phoneNo),p("ngClass",C(25,_,d.submitted&&k.errors)),l(7),p("items",n.countryList),S("ngModel",n.vendorData.countryId),p("ngClass",C(27,_,d.submitted&&pe.errors)),l(7),p("items",n.stateList),S("ngModel",n.vendorData.stateId),p("ngClass",C(29,_,d.submitted&&ue.errors)),l(7),p("items",n.cityList),S("ngModel",n.vendorData.cityId),p("ngClass",C(31,_,d.submitted&&ge.errors)),l(5),S("ngModel",n.vendorData.address),p("ngClass",C(33,_,d.submitted&&k.errors)),l(5),S("ngModel",n.vendorData.location),p("ngClass",C(35,_,d.submitted&&he.errors)),l(3),p("disabled",!d.valid),l(2),p("disabled",!d.valid)}},dependencies:[G,Z,ne,te,Q,X,Y,ie,ee,$,I,de]});let m=s;return m})();var Ue=[{path:"",component:ce},{path:"new",component:P},{path:"edit/:id",component:P}];export{Ue as VENDOR_ROUTES};
