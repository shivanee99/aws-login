import{c as fe}from"./chunk-WKOLNJ4G.js";import{a as _e,b as he}from"./chunk-EMZZWQZT.js";import"./chunk-5ENT4XQA.js";import"./chunk-3VYHKAG4.js";import"./chunk-QJUVNZXF.js";import{a as ge}from"./chunk-D42AVTVB.js";import"./chunk-WIQ76MVE.js";import{a as ne}from"./chunk-KMBGROKD.js";import{a as ue}from"./chunk-A4J2ZQI3.js";import"./chunk-TX4RGXHY.js";import"./chunk-L32G27ZM.js";import{a as Z,c as $}from"./chunk-SOWNCCG4.js";import"./chunk-KSLAI2AB.js";import{b as ee,m as ie}from"./chunk-DYQSPWX7.js";import{$a as o,$b as K,Aa as c,Ac as de,Ba as y,Bb as J,Bc as se,Cc as le,Db as S,Ic as ce,Ka as I,Mc as me,Nc as pe,Oa as x,Qa as g,Ra as H,T as R,Wa as M,Y as U,Ya as T,Za as V,_a as n,ab as _,ba as N,eb as k,fc as X,gb as w,hb as b,ja as p,ka as u,kb as q,lb as j,ob as z,pb as Q,qb as G,rb as f,sb as m,sc as te,tb as W,ub as Y,vc as re,xa as F,xb as v,yb as C,yc as oe,zb as P,zc as ae}from"./chunk-FCI7FGJ6.js";import"./chunk-WWX6BADO.js";var L=class{constructor(){this.id=1,this.product_features="",this.product_features_img="",this.additional_block=""}},O=class{constructor(){this.title="",this.discription=""}};var be=(()=>{let a=class a{constructor(i){this.apiService=i}get(i){return this.apiService.apiCall("get","pages/home/"+i+"/edit")}addOrUpdate(i){return this.apiService.apiCall("post","pages/home/update",i)}productList(){return this.apiService.apiCall("get","pages/home/")}};a.\u0275fac=function(t){return new(t||a)(U(ee))},a.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"});let r=a;return r})();var we=["colorInput"],B=(r,a)=>a.id,E=r=>({"is-invalid":r});function Ee(r,a){r&1&&_(0,"img",28)}function xe(r,a){if(r&1&&_(0,"img",29),r&2){let s=b();g("src",s.homePageObj.image_url,F)}}function Me(r,a){if(r&1){let s=k();n(0,"div",35)(1,"input",50),w("change",function(t){let e=p(s).$implicit,d=b();return u(d.selectOrRemoveProduct(t,e))}),o(),n(2,"label",51),m(3),o()()}if(r&2){let s=a.$implicit,i=b();c(),j("id","selectProduct-",s.id,""),g("value",s.id)("checked",i.getSelectedProduct(s.id)),c(),j("for","selectProduct-",s.id,""),c(),Y(" ",s.name," ")}}function Fe(r,a){if(r&1){let s=k();n(0,"div",37)(1,"div",33),_(2,"img",52),n(3,"div",53)(4,"div",16)(5,"h5"),m(6),o(),n(7,"p",54),m(8),o()(),n(9,"div",55)(10,"input",56),w("input",function(t){let e=p(s).$implicit,d=b();return u(d.changeBackgroundColor(t,e.id))}),o(),n(11,"button",57),w("click",function(){let t=p(s).$implicit,e=b();return u(e.openColorPicker(t.id))}),_(12,"i",58),o()()()()()}if(r&2){let s=a.$implicit;c(2),H("background",s.color),q("src",s.thumbnail,F),c(4),W(s.name),c(2),W(s.catagory),c(2),g("id","cp-"+s.id)}}function ke(r,a){r&1&&_(0,"img",28)}function je(r,a){if(r&1&&_(0,"img",43),r&2){let s=b();g("src",s.homePageData.product_features_img,F)}}function Le(r,a){r&1&&(n(0,"label",60),m(1,"Title"),n(2,"span",69),m(3,"*"),o()())}function Te(r,a){r&1&&(n(0,"label",63),m(1,"Description "),n(2,"span",69),m(3,"*"),o()())}function Ve(r,a){if(r&1){let s=k();n(0,"div",17)(1,"div",59),x(2,Le,4,0,"label",60),n(3,"input",61,7),P("ngModelChange",function(t){let e=p(s).$implicit;return C(e.title,t)||(e.title=t),u(t)}),o()(),n(5,"div",62),x(6,Te,4,0,"label",63),n(7,"input",64,8),P("ngModelChange",function(t){let e=p(s).$implicit;return C(e.discription,t)||(e.discription=t),u(t)}),o(),n(9,"div",65),m(10," Description is required. "),o()(),n(11,"div",66)(12,"button",67),w("click",function(){let t=p(s).$implicit,e=b();return u(e.removeProductFeatureRow(t.id))}),_(13,"i",68),o()()()}if(r&2){let s=a.$implicit,i=a.$index,t=f(4),e=f(8);b();let d=f(9);c(2),M(i==0?2:-1),c(),j("name","title",i,""),v("ngModel",s.title),g("ngClass",S(10,E,d.submitted&&t.errors)),c(3),M(i==0?6:-1),c(),j("name","discription",i,""),v("ngModel",s.discription),g("ngClass",S(12,E,d.submitted&&e.errors))}}function Oe(r,a){r&1&&(n(0,"span",45),m(1,"No Data Found"),o())}function Ae(r,a){r&1&&_(0,"img",28)}function De(r,a){if(r&1&&_(0,"img",43),r&2){let s=b();g("src",s.homePageData.additional_block,F)}}var ye=(()=>{let a=class a{constructor(i,t,e,d,h,l,A,D){this.pageService=i,this.commonService=t,this.statusService=e,this.loaderService=d,this.canvasService=h,this.route=l,this.router=A,this.lookupService=D,this.homePageData=new L,this.isFormSubmit=!1,this.eventFrom=I(""),this.loaderType=I(""),this.webSiteData=[],this.productOptionArray=[],this.productList=[],this.homePageArray=[],this.modelSpecList=[],this.bannerObj={},this.homePageObj={},this.productCategoryArray=[],this.aboutObj={},this.productListArray=[],this.productFeaturesArray=[],this.pageId=0}ngOnInit(){this.productLookup();let i=this.route.snapshot.queryParamMap.get("pageId");i!=null&&(this.pageId=Number(i),this.getHomePageData(this.pageId))}getHomePageData(i){this.isFormSubmit=!1,this.pageService.get(i).subscribe({next:t=>{t!=null?(this.homePageData=t.response,t.response.product_details.length>0&&(this.productListArray=t.response.product_details),t.response.top_heading_adv!=null&&(this.bannerObj=t.response.top_heading_adv),t.response.top_header!=null&&(this.homePageObj=t.response.top_header),t.response.product_features.length>0&&(this.productFeaturesArray=t.response.product_features)):this.commonService.errorMessage(t.message)}})}getSelectedProduct(i){var t=!1,e=this.productListArray.filter(d=>d.id==i);return e!=null&&e.length>0&&i==e[0].id&&(t=!0),t}homePageDataUpdate(i){this.homePageData!=null&&(this.isFormSubmit=!0,this.productFeaturesArray.length>0&&(this.homePageData.product_features=this.productFeaturesArray),this.homePageData.top_heading_adv=this.bannerObj,this.homePageData.top_header=this.homePageObj,this.homePageData.product_details=this.productListArray,this.pageService.addOrUpdate(this.homePageData).subscribe({next:t=>{t!=null?t.success&&(this.commonService.successMessage(t.message),this.homePageData=new L,this.getHomePageData(this.pageId)):this.commonService.errorMessage(t.message)}}))}backTolListPage(){this.router.navigate(["web-pages"])}imageFileUpload(i){let t=i.target.files[0];if(t){let e=new FileReader;e.onload=()=>{this.mainHeaderImage=e.result},e.readAsDataURL(t)}}openColorPicker(i){document.getElementById("cp-"+i)?.click()}changeBackgroundColor(i,t){this.selectedColor=i.target.value;for(let e=0;e<this.productListArray.length;e++)this.productListArray[e].id==t&&(this.productListArray[e].color=this.selectedColor)}selectOrRemoveProduct(i,t){if(i.target.checked)this.productListArray.push(t),console.log(this.productListArray,"=======================");else for(let e=0;e<this.productListArray.length;e++)this.productListArray[e].id===t.id&&this.productListArray.splice(e,1)}productLookup(){this.lookupService.dropdown("product").subscribe({next:i=>{i!=null?i.success&&(this.productList=i.response):this.commonService.errorMessage(i.message)}})}addProductFeaturesRow(){var i=new O;i.id=this.productFeaturesArray.length+1,this.productFeaturesArray.length==0?this.productFeaturesArray.push(i):this.productFeaturesArray.push(i)}removeProductFeatureRow(i){debugger;for(var t=0;t<this.productFeaturesArray.length;t++){var e=this.productFeaturesArray[t].id;e==i&&this.productFeaturesArray.splice(t,1)}}};a.\u0275fac=function(t){return new(t||a)(y(be),y(ie),y(ue),y(te),y(ne),y(Z),y($),y(ge))},a.\u0275cmp=N({type:a,selectors:[["app-header"]],viewQuery:function(t,e){if(t&1&&z(we,5),t&2){let d;Q(d=G())&&(e.colorInput=d.first)}},standalone:!0,features:[J],decls:86,vars:29,consts:[["f","ngForm"],["banner_url","ngModel"],["header_content","ngModel"],["header_secondary_content","ngModel"],["image_url","ngModel"],["product_features_img","ngModel"],["additional_block","ngModel"],["title","ngModel"],["discription","ngModel"],[1,"navbar","bg-body-tertiary","shadow-sm"],[1,"container-fluid"],["routerLink","/web-site",1,"text-decoration-none"],[1,"text-muted","text-decoration-none"],[1,"container-fluid","mt-3"],["novalidate","",3,"ngSubmit"],[1,"common-header"],[1,""],[1,"row","mt-3"],[1,"col-md-12"],["type","text","name","banner_url","placeholder","Enter Banner URL",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],["alt","",1,"haeder-img",3,"src"],[1,"common-header","mb-2"],[1,"row","g-3"],[1,"col-12","col-md-4"],[1,"form-label","small"],["type","text","name","header_content","placeholder","Enter Your Heading",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],["type","text","name","header_secondary_content","placeholder","Enter Your Secondary Heading",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],[1,"col-12","col-md-6"],["src","assets/dummyImg.jpg",1,"img-fluid","img-contain"],["alt","",1,"img-fluid","img-cover","mb-2",3,"src"],["type","text","name","image_url","placeholder","Enter Home Page Background Image URL",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],[1,"my-3"],[1,"col-12","col-md-2"],[1,"card"],[1,"card-body"],[1,"form-check"],[1,"col-12","col-md-10"],[1,"col-4"],[1,"card","my-3"],[1,"bi","bi-stack","me-2"],["type","button",1,"btn","common-btn",3,"click"],[1,"bi","bi-plus-lg"],[1,"row"],["alt","",1,"img-fluid","img-contain","mb-2",3,"src"],["type","text","name","product_features_img","placeholder","Enter Product Features Background Image URL",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],[1,"d-flex","justify-content-center"],["type","text","name","additional_block","placeholder","Enter Product Features Background Image URL",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],[1,"mb-3"],["type","submit",1,"btn","btn-sm","btn-danger","me-1",3,"click"],["type","submit",1,"btn","btn-sm","common-btn-width-outline","me-1"],["type","checkbox",1,"form-check-input",3,"change","value","id","checked"],[1,"form-check-label",3,"for"],["alt","",1,"img-fluid",3,"src"],[1,"d-flex","justify-content-evenly"],["for","",1,"mb-0"],[1,"my-2","d-flex"],["type","color",1,"d-none",3,"input","id"],["type","button",1,"btn","btn-sm","btn-warning",3,"click"],[1,"bi","bi-paint-bucket"],[1,"col-md-4","col-12"],["for","variationId",1,"form-label"],["type","text","placeholder","Enter Title","required","",1,"form-control",3,"ngModelChange","name","ngModel","ngClass"],[1,"col-md-6","col-12"],["for","discription",1,"form-label"],["type","text","id","discription","placeholder","Enter Title","required","",1,"form-control",3,"ngModelChange","name","ngModel","ngClass"],[1,"invalid-feedback"],[1,"col-md-2","align-content-end"],["type","button",1,"btn","btn-sm","btn-danger",3,"click"],[1,"bi","bi-x-lg"],[1,"text-danger"]],template:function(t,e){if(t&1){let d=k();n(0,"nav",9)(1,"div",10)(2,"div")(3,"a",11),m(4,"Pages / "),o(),n(5,"a",12),m(6,"Edit"),o()()()(),n(7,"div",13)(8,"form",14,0),w("ngSubmit",function(){p(d);let l=f(9);return u(l.form.valid&&e.homePageDataUpdate(!0))}),n(10,"div",15)(11,"span",16),m(12," Home Page Banner "),o()(),n(13,"div",17)(14,"div",18)(15,"input",19,1),P("ngModelChange",function(l){return p(d),C(e.bannerObj.banner_url,l)||(e.bannerObj.banner_url=l),u(l)}),o()(),_(17,"img",20),o(),n(18,"div",16)(19,"div",21)(20,"span",16),m(21," main header "),o()(),n(22,"div",22)(23,"div",23)(24,"label",24),m(25,"Heading"),o(),n(26,"input",25,2),P("ngModelChange",function(l){return p(d),C(e.homePageObj.header_content,l)||(e.homePageObj.header_content=l),u(l)}),o()(),n(28,"div",23)(29,"label",24),m(30,"Sub Heading"),o(),n(31,"input",26,3),P("ngModelChange",function(l){return p(d),C(e.homePageObj.header_secondary_content,l)||(e.homePageObj.header_secondary_content=l),u(l)}),o()(),n(33,"div",27),x(34,Ee,1,0,"img",28)(35,xe,1,1,"img",29),n(36,"input",30,4),P("ngModelChange",function(l){return p(d),C(e.homePageObj.image_url,l)||(e.homePageObj.image_url=l),u(l)}),o()()()(),n(38,"div",31)(39,"div",21),m(40," Model "),o(),n(41,"div",22)(42,"div",32)(43,"div",33)(44,"div",34),T(45,Me,4,7,"div",35,B),o()()(),n(47,"div",36)(48,"div",16)(49,"div",22),T(50,Fe,13,6,"div",37,B),o()()()()(),n(52,"div",38)(53,"div",15)(54,"span"),_(55,"i",39),m(56,"Product Features"),o(),n(57,"button",40),w("click",function(){return p(d),u(e.addProductFeaturesRow())}),_(58,"i",41),o()(),n(59,"div",34)(60,"div",42)(61,"div",27),x(62,ke,1,0,"img",28)(63,je,1,1,"img",43),n(64,"input",44,5),P("ngModelChange",function(l){return p(d),C(e.homePageData.product_features_img,l)||(e.homePageData.product_features_img=l),u(l)}),o()()(),T(66,Ve,14,14,"div",17,B),x(68,Oe,2,0,"span",45),o()(),n(69,"div",38)(70,"div",15)(71,"span"),_(72,"i",39),m(73,"Additional Block"),o()(),n(74,"div",34)(75,"div",42)(76,"div",27),x(77,Ae,1,0,"img",28)(78,De,1,1,"img",43),n(79,"input",46,6),P("ngModelChange",function(l){return p(d),C(e.homePageData.additional_block,l)||(e.homePageData.additional_block=l),u(l)}),o()()()()(),n(81,"div",47)(82,"button",48),w("click",function(){return p(d),u(e.backTolListPage())}),m(83,"Cancel"),o(),n(84,"button",49),m(85,"submit"),o()()()()}if(t&2){let d=f(9),h=f(16),l=f(27),A=f(32),D=f(37),ve=f(65),Ce=f(80);c(15),v("ngModel",e.bannerObj.banner_url),g("ngClass",S(17,E,d.submitted&&h.errors)),c(2),g("src",e.bannerObj.banner_url,F),c(9),v("ngModel",e.homePageObj.header_content),g("ngClass",S(19,E,d.submitted&&l.errors)),c(5),v("ngModel",e.homePageObj.header_secondary_content),g("ngClass",S(21,E,d.submitted&&A.errors)),c(3),M(e.homePageObj==null?34:35),c(2),v("ngModel",e.homePageObj.image_url),g("ngClass",S(23,E,d.submitted&&D.errors)),c(9),V(e.productList),c(5),V(e.productListArray),c(12),M(e.homePageData==null?62:63),c(2),v("ngModel",e.homePageData.product_features_img),g("ngClass",S(25,E,d.submitted&&ve.errors)),c(2),V(e.productFeaturesArray),c(2),M(e.productFeaturesArray.length==0?68:-1),c(9),M(e.homePageData==null?77:78),c(2),v("ngModel",e.homePageData.additional_block),g("ngClass",S(27,E,d.submitted&&Ce.errors))}},dependencies:[me,le,re,oe,ae,ce,se,de,pe,X,K],styles:[".haeder-img[_ngcontent-%COMP%]{height:150px;object-fit:contain;margin:10px 0}.main-header-image[_ngcontent-%COMP%]{object-fit:cover}.item-color-box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:50px;height:31px;color:#fff}.img-cover[_ngcontent-%COMP%]{object-fit:cover;height:300px;width:100%}.img-contain[_ngcontent-%COMP%]{object-fit:contain;height:300px;width:100%;border:1px solid #7d7979;border-radius:10px;margin-bottom:5px}"]});let r=a;return r})();var st=[{path:"",component:fe},{path:"edit",component:ye},{path:"builder",component:_e},{path:"meta-data",component:he}];export{st as WEB_PAGE_ROUTES};
