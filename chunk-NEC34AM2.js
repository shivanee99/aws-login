import{a as he}from"./chunk-3F6XYBCD.js";import{a as ge,b as W}from"./chunk-U2EGM5ZX.js";import{a as fe}from"./chunk-QJUVNZXF.js";import{a as ce}from"./chunk-D42AVTVB.js";import{a as Se}from"./chunk-TX4RGXHY.js";import{a as pe}from"./chunk-L32G27ZM.js";import{a as $,c as ee,d as L}from"./chunk-SOWNCCG4.js";import{a as ue}from"./chunk-KSLAI2AB.js";import{b as te,m as T}from"./chunk-DYQSPWX7.js";import{$a as a,$b as X,Aa as s,Ac as re,Ba as g,Bb as I,Bc as se,Cc as de,Db as M,Ic as le,Ka as N,Mc as me,Oa as c,Qa as h,T as R,Wa as p,Y as U,Ya as z,Za as j,_a as i,ab as S,ba as w,eb as O,fc as Y,gb as D,hb as k,ja as _,ka as C,kb as Q,lb as Z,ob as G,pb as K,qb as H,rb as E,sb as r,sc as ie,tb as P,ub as J,vc as ne,xa as q,xb as v,yb as y,yc as ae,zb as b,zc as oe}from"./chunk-FCI7FGJ6.js";import"./chunk-WWX6BADO.js";var F=(()=>{let o=class o{constructor(n){this.apiService=n}list(n){return this.apiService.apiCall("post","product_skus/list",n)}get(n){return this.apiService.apiCall("get","product_skus/"+n+"/edit")}addOrUpdate(n){var l="update";return n.id==""&&(l="create"),this.apiService.apiCall("post","product_skus/"+l,n)}};o.\u0275fac=function(l){return new(l||o)(U(te))},o.\u0275prov=R({token:o,factory:o.\u0275fac,providedIn:"root"});let e=o;return e})();var ye=(e,o)=>o.id;function be(e,o){e&1&&S(0,"i",16)}function Pe(e,o){e&1&&S(0,"i",17)}function De(e,o){if(e&1&&(i(0,"span"),c(1,be,1,0,"i",16)(2,Pe,1,0,"i",17),a()),e&2){let u=k();s(),p(u.listDefaultParams.sortingType=="asc"?1:2)}}function Ee(e,o){e&1&&S(0,"i",16)}function xe(e,o){e&1&&S(0,"i",17)}function we(e,o){if(e&1&&(i(0,"span"),c(1,Ee,1,0,"i",16)(2,xe,1,0,"i",17),a()),e&2){let u=k();s(),p(u.listDefaultParams.sortingType=="asc"?1:2)}}function Ie(e,o){e&1&&S(0,"i",16)}function Me(e,o){e&1&&S(0,"i",17)}function Le(e,o){if(e&1&&(i(0,"span"),c(1,Ie,1,0,"i",16)(2,Me,1,0,"i",17),a()),e&2){let u=k();s(),p(u.listDefaultParams.sortingType=="asc"?1:2)}}function Te(e,o){e&1&&S(0,"i",16)}function Fe(e,o){e&1&&S(0,"i",17)}function Ve(e,o){if(e&1&&(i(0,"span"),c(1,Te,1,0,"i",16)(2,Fe,1,0,"i",17),a()),e&2){let u=k();s(),p(u.listDefaultParams.sortingType=="asc"?1:2)}}function Ne(e,o){e&1&&S(0,"i",16)}function We(e,o){e&1&&S(0,"i",17)}function Ae(e,o){if(e&1&&(i(0,"span"),c(1,Ne,1,0,"i",16)(2,We,1,0,"i",17),a()),e&2){let u=k();s(),p(u.listDefaultParams.sortingType=="asc"?1:2)}}function Be(e,o){e&1&&S(0,"i",16)}function Re(e,o){e&1&&S(0,"i",17)}function Ue(e,o){if(e&1&&(i(0,"span"),c(1,Be,1,0,"i",16)(2,Re,1,0,"i",17),a()),e&2){let u=k();s(),p(u.listDefaultParams.sortingType=="asc"?1:2)}}function qe(e,o){if(e&1&&(i(0,"tr")(1,"td"),r(2),a(),i(3,"td"),r(4),a(),i(5,"td"),r(6),a(),i(7,"td"),r(8),a(),i(9,"td"),r(10),a(),i(11,"td"),r(12),a(),i(13,"td")(14,"a",18),S(15,"i",19),a()()()),e&2){let u=o.$implicit;s(2),P(u.name),s(2),P(u.createdAt),s(2),P(u.createdBy),s(2),P(u.updatedAt),s(2),P(u.updatedBy),s(2),P(u.updatedBy),s(2),Z("routerLink","./edit/",u.id,"")}}function ze(e,o){if(e&1&&(i(0,"tr",14)(1,"td",20),r(2),a()()),e&2){let u=k();s(2),J("",u.listLoadingMessage," ")}}var ke=(()=>{let o=class o{constructor(n,l,t,m){this.productSkusService=n,this.commonService=l,this.loaderService=t,this.timeZoneService=m,this.listDefaultParams=new pe,this.productSkusArray=[],this.loaderType=N(""),this.isShowFilter=N(!1),this.isEditCanvasShow=!1,this.isFilterSelected=!1,this.showParentPageLoader=!0,this.listLoadingMessage="Loading Data...",this.totalRows=0}ngOnInit(){this.productSkusList()}productSkusList(){this.loaderType.set("full"),this.productSkusService.list(this.listDefaultParams).subscribe({next:n=>{n!=null?n.success&&n.response.length>0&&(this.productSkusArray=n.response,this.listLoadingMessage="",this.totalRows=n.totalRows,this.listDefaultParams.pageNumber=n.pageNumber,this.listDefaultParams.pageSize=n.pageSize):(this.commonService.errorMessage(n.message),this.listLoadingMessage=n.message),this.showParentPageLoader=!1}})}displayDateInUserFormat(n){return this.timeZoneService.convertDateInUserFormat(n)}changePageNumberAndSize(n){this.listDefaultParams.pageNumber=n.pageNumber,this.listDefaultParams.pageSize=n.pageSize,this.productSkusList()}filterList(n){this.listDefaultParams.pageNumber=1,this.listDefaultParams.pageSize=10,this.listDefaultParams.filterConditions=n.filterConditions,this.listDefaultParams.sortingConditions=n.sortingConditions,this.listDefaultParams.sortingColumn=n.sortingColumn,this.listDefaultParams.sortingType=n.sortingType,this.listDefaultParams.filterConditions.length>0||this.listDefaultParams.sortingConditions.indexOf("name asc")<0||this.listDefaultParams.sortingConditions==""?this.isFilterSelected=!0:this.isFilterSelected=!1,this.productSkusList()}};o.\u0275fac=function(l){return new(l||o)(g(F),g(T),g(ie),g(ue))},o.\u0275cmp=w({type:o,selectors:[["app-pages"]],standalone:!0,features:[I],decls:44,vars:10,consts:[[1,"navbar","bg-body-tertiary","shadow-sm"],[1,"container-fluid"],["routerLink","/dashboard",1,"text-decoration-none"],[1,"text-muted","text-decoration-none"],["role","button"],["routerLink","./new","type","button",1,"btn","common-btn","mx-1"],[1,"bi","bi-plus"],[1,"container-fluid","mt-3"],[1,"row"],[1,"col-12"],[1,"list-table"],[1,"table","table-sm"],[1,"table-secondary"],["scope","row"],[1,"text-center"],[3,"parentListRefresh","pageNumber","pageSize","totalRows"],[1,"bi","bi-arrow-down"],[1,"bi","bi-arrow-up"],["type","button",1,"btn","common-btn","me-1",3,"routerLink"],[1,"bi","bi-pencil"],["colspan","8"]],template:function(l,t){l&1&&(i(0,"nav",0)(1,"div",1)(2,"div")(3,"a",2),r(4,"Dashboard / "),a(),i(5,"a",3),r(6,"Product Skus"),a()(),i(7,"form",4)(8,"a",5),S(9,"i",6),r(10,"Add"),a()()()(),i(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"table",11)(16,"thead")(17,"tr",12)(18,"th",13),r(19,"Name "),c(20,De,3,1,"span"),a(),i(21,"th",13),r(22,"Created At "),c(23,we,3,1,"span"),a(),i(24,"th",13),r(25,"Created By "),c(26,Le,3,1,"span"),a(),i(27,"th",13),r(28,"Updated At "),c(29,Ve,3,1,"span"),a(),i(30,"th",13),r(31,"Updated By "),c(32,Ae,3,1,"span"),a(),i(33,"th",13),r(34,"Status "),c(35,Ue,3,1,"span"),a(),i(36,"th",13),r(37,"Actions"),a()()(),i(38,"tbody"),z(39,qe,16,8,"tr",null,ye),c(41,ze,3,1,"tr",14),a()()()(),i(42,"div",9)(43,"app-table-footer",15),D("parentListRefresh",function(f){return t.changePageNumberAndSize(f)}),a()()()()),l&2&&(s(20),p(t.listDefaultParams.sortingColumn=="name"?20:-1),s(3),p(t.listDefaultParams.sortingColumn=="createdAt"?23:-1),s(3),p(t.listDefaultParams.sortingColumn=="createdBy"?26:-1),s(3),p(t.listDefaultParams.sortingColumn=="updatedAt"?29:-1),s(3),p(t.listDefaultParams.sortingColumn=="updatedBy"?32:-1),s(3),p(t.listDefaultParams.sortingColumn=="status"?35:-1),s(4),j(t.productSkusArray),s(2),p(t.productSkusArray.length==0?41:-1),s(2),h("pageNumber",t.listDefaultParams.pageNumber)("pageSize",t.listDefaultParams.pageSize)("totalRows",t.totalRows))},dependencies:[Se,L]});let e=o;return e})();var x=class{constructor(){this.id=0,this.name="",this.code=""}};var A=e=>({"is-invalid":e});function je(e,o){e&1&&S(0,"img",17)}function Oe(e,o){if(e&1&&S(0,"img",18),e&2){let u=k();Q("src",u.skusImageFile,q)}}function Qe(e,o){e&1&&(i(0,"small",24),r(1," Stock Category Field is required. "),a())}function Ze(e,o){e&1&&(i(0,"small",24),r(1," Product Field is required. "),a())}function Ge(e,o){e&1&&(i(0,"small",24),r(1," Variation Field is required. "),a())}function Ke(e,o){e&1&&(i(0,"small",24),r(1," Status Field is required. "),a())}var B=(()=>{let o=class o{constructor(n,l,t,m,f,d,V){this.productSkusService=n,this.commonService=l,this.route=t,this.router=m,this.productStatusService=f,this.lookupService=d,this.dataTransferService=V,this.productSkusData=new x,this.isFormSubmit=!1,this.statusList=[],this.productList=[],this.productVariationList=[],this.stockCategoryList=[],this.productSkusId=0}ngOnInit(){this.productVariationListLookup(),this.stockCategoryLookup(),this.productListLookup();let n=this.route.snapshot.paramMap.get("id");n&&(this.productSkusId=Number(n),this.getProductSkusData(this.productSkusId)),this.statusList=this.productStatusService.list()}ngAfterViewInit(){this.dataTransferService.pageSetForDynamicDataEdit(!0),this.dynamicDataEdit.fetchDynamicFields("Sku",this.productSkusId)}imageFileUpload(n){let l=n.target.files[0],t=new FileReader;t.onloadend=()=>{this.skusImageFile=t.result},l&&t.readAsDataURL(l)}getProductSkusData(n){this.isFormSubmit=!1,this.productSkusService.get(n).subscribe({next:l=>{l!=null?l.success&&(l.response!=0?(this.productSkusData=l.response,this.skusImageFile=this.productSkusData.thumbnail):this.productSkusData=new x):this.commonService.errorMessage(l.message)}})}productSkusDataUpdate(n){var l=this.dynamicDataEdit.getDynamicFieldsValue();this.productSkusData!=null&&(this.isFormSubmit=!0,this.skusImageFile!=null&&(this.productSkusData.thumbnail=this.skusImageFile),this.productSkusData.dynamicFields=l,this.productSkusService.addOrUpdate(this.productSkusData).subscribe({next:t=>{t!=null?t.success&&(this.commonService.successMessage(t.message),this.productSkusData=new x,n&&this.router.navigate(["product-skus"])):this.commonService.errorMessage(t.message)}}))}backTolListPage(){this.router.navigate(["product-skus"])}productListLookup(){this.lookupService.dropdown("product").subscribe({next:n=>{n!=null?n.success&&(this.productList=n.response):this.commonService.errorMessage(n.message)}})}stockCategoryLookup(){this.lookupService.dropdown("stockCategory").subscribe({next:n=>{n!=null?n.success&&(this.stockCategoryList=n.response):this.commonService.errorMessage(n.message)}})}productVariationListLookup(){this.lookupService.dropdown("productVariation").subscribe({next:n=>{n!=null?n.success&&(this.productVariationList=n.response):this.commonService.errorMessage(n.message)}})}};o.\u0275fac=function(l){return new(l||o)(g(F),g(T),g($),g(ee),g(he),g(ce),g(ge))},o.\u0275cmp=w({type:o,selectors:[["app-stories-edit"]],viewQuery:function(l,t){if(l&1&&G(W,5),l&2){let m;K(m=H())&&(t.dynamicDataEdit=m.first)}},standalone:!0,features:[I],decls:87,vars:27,consts:[["f","ngForm"],["stockCategoryId","ngModel"],["productId","ngModel"],["variationId","ngModel"],["name","ngModel"],["code","ngModel"],["basePrice","ngModel"],["statusId","ngModel"],[1,"navbar","bg-body-tertiary","shadow-sm"],[1,"container-fluid"],["routerLink","/product-skus",1,""],[1,"text-muted","text-decoration-none"],[1,"container-fluid","mt-3"],["novalidate","",3,"ngSubmit"],[1,"common-header","mb-2"],[1,"row"],[1,"col-md-4"],["src","assets/dummy-img.png",1,"img-fluid","img-avatar"],[1,"img-fluid","img-avatar",3,"src"],["type","file","accept","image/*",1,"form-control",3,"change"],[1,"col-md-8"],[1,"row","g-3"],[1,"col-12","col-md-6"],["for","StockCategory",1,"form-label"],[1,"text-danger"],["bindLabel","name","bindValue","id","placeholder","Choose Stock Category","name","stockCategoryId",3,"ngModelChange","items","ngModel"],["for","ProductId",1,"form-label"],["bindLabel","name","bindValue","id","placeholder","Choose Product","name","productId",3,"ngModelChange","items","ngModel"],["for","VariationId",1,"form-label"],["bindLabel","name","bindValue","id","placeholder","Choose Product","name","variationId",3,"ngModelChange","items","ngModel"],["for","txtName",1,"form-label"],["type","text","id","txtName","placeholder","Name","name","name","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],[1,"invalid-feedback"],["type","text","id","txtName","placeholder","Name","name","code","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],["for","BasePrice",1,"form-label"],["type","text","id","BasePrice","placeholder","Base Price","name","basePrice","required","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","ngClass"],["for","itemTypeId",1,"form-label"],["bindLabel","name","bindValue","id","placeholder","Choose Status","name","statusId",3,"ngModelChange","items","ngModel"],[1,"mt-4"],[1,"my-3"],["type","button",1,"btn","btn-sm","btn-outline-danger","me-1",3,"click","disabled"],["type","submit",1,"btn","btn-sm","common-btn-width-outline",3,"disabled"]],template:function(l,t){if(l&1){let m=O();i(0,"nav",8)(1,"div",9)(2,"div")(3,"a",10),r(4,"Product Skus / "),a(),i(5,"a",11),r(6,"Edit"),a()()()(),i(7,"div",12)(8,"form",13,0),D("ngSubmit",function(){_(m);let d=E(9);return C(d.form.valid&&t.productSkusDataUpdate(!0))}),i(10,"div",14),r(11," Basic Field "),a(),i(12,"div",15)(13,"div",16),c(14,je,1,0,"img",17)(15,Oe,1,1,"img",18),i(16,"input",19),D("change",function(d){return _(m),C(t.imageFileUpload(d))}),a()(),i(17,"div",20)(18,"div",21)(19,"div",22)(20,"label",23),r(21,"Stock Category "),i(22,"span",24),r(23,"*"),a()(),i(24,"ng-select",25,1),b("ngModelChange",function(d){return _(m),y(t.productSkusData.stockCategoryId,d)||(t.productSkusData.stockCategoryId=d),C(d)}),a(),c(26,Qe,2,0,"small",24),a(),i(27,"div",22)(28,"label",26),r(29,"Product "),i(30,"span",24),r(31,"*"),a()(),i(32,"ng-select",27,2),b("ngModelChange",function(d){return _(m),y(t.productSkusData.productId,d)||(t.productSkusData.productId=d),C(d)}),a(),c(34,Ze,2,0,"small",24),a(),i(35,"div",22)(36,"label",28),r(37,"Variation "),i(38,"span",24),r(39,"*"),a()(),i(40,"ng-select",29,3),b("ngModelChange",function(d){return _(m),y(t.productSkusData.variationId,d)||(t.productSkusData.variationId=d),C(d)}),a(),c(42,Ge,2,0,"small",24),a(),i(43,"div",22)(44,"label",30),r(45,"Name "),i(46,"span",24),r(47,"*"),a()(),i(48,"input",31,4),b("ngModelChange",function(d){return _(m),y(t.productSkusData.name,d)||(t.productSkusData.name=d),C(d)}),a(),i(50,"div",32),r(51," Name is required. "),a()(),i(52,"div",22)(53,"label",30),r(54,"Code "),i(55,"span",24),r(56,"*"),a()(),i(57,"input",33,5),b("ngModelChange",function(d){return _(m),y(t.productSkusData.code,d)||(t.productSkusData.code=d),C(d)}),a(),i(59,"div",32),r(60," Code is required. "),a()(),i(61,"div",22)(62,"label",34),r(63,"Base Price "),i(64,"span",24),r(65,"*"),a()(),i(66,"input",35,6),b("ngModelChange",function(d){return _(m),y(t.productSkusData.basePrice,d)||(t.productSkusData.basePrice=d),C(d)}),a(),i(68,"div",32),r(69," Base Price is required. "),a()(),i(70,"div",22)(71,"label",36),r(72,"Status "),i(73,"span",24),r(74,"*"),a()(),i(75,"ng-select",37,7),b("ngModelChange",function(d){return _(m),y(t.productSkusData.statusId,d)||(t.productSkusData.statusId=d),C(d)}),a(),c(77,Ke,2,0,"small",24),a()()()(),i(78,"div",38)(79,"div",14),r(80," Advanced Field "),a(),S(81,"app-dynamic-field-data"),a(),i(82,"div",39)(83,"button",40),D("click",function(){return _(m),C(t.backTolListPage())}),r(84,"Cancel"),a(),i(85,"button",41),r(86,"Save & Exit"),a()()()()}if(l&2){let m=E(9),f=E(49),d=E(58),V=E(67);s(14),p(t.skusImageFile==null?14:15),s(10),h("items",t.stockCategoryList),v("ngModel",t.productSkusData.stockCategoryId),s(2),p(t.productSkusData.stockCategoryId==0||t.productSkusData.stockCategoryId==null?26:-1),s(6),h("items",t.productList),v("ngModel",t.productSkusData.productId),s(2),p(t.productSkusData.productId==0||t.productSkusData.productId==null?34:-1),s(6),h("items",t.productVariationList),v("ngModel",t.productSkusData.variationId),s(2),p(t.productSkusData.variationId==0||t.productSkusData.variationId==null?42:-1),s(6),v("ngModel",t.productSkusData.name),h("ngClass",M(21,A,m.submitted&&f.errors)),s(9),v("ngModel",t.productSkusData.code),h("ngClass",M(23,A,m.submitted&&d.errors)),s(9),v("ngModel",t.productSkusData.basePrice),h("ngClass",M(25,A,m.submitted&&V.errors)),s(9),h("items",t.statusList),v("ngModel",t.productSkusData.statusId),s(2),p(t.productSkusData.statusId==0||t.productSkusData.statusId==null?77:-1),s(6),h("disabled",!m.valid),s(2),h("disabled",!m.valid)}},dependencies:[me,de,ne,ae,oe,le,se,re,L,Y,X,fe,W]});let e=o;return e})();var kt=[{path:"",component:ke},{path:"new",component:B},{path:"edit/:id",component:B}];export{kt as PRODUCTSKUS_ROUTES};
